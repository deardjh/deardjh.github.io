<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">

<script>
    (function(){
        if(''){
            if (prompt('请输入暗号') !== ''){
                alert('你不是自己人哦！');
                history.back();
            }
        }
    })();
</script>

<style>
.pace .pace-progress {
    background: #f6a427; /*进度条颜色*/
    height: 3px;
}
.pace .pace-progress-inner {
     box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
}
.pace .pace-activity {
    border-top-color: #1E92FB;    /*上边框颜色*/
    border-left-color: #1E92FB;    /*左边框颜色*/
}
</style>



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-bounce.min.css?v=1.0.2">





















<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1、导入numpy作为np，并查看版本 2、如何创建一维数组？ 3. 如何创建一个布尔数组？ 4. 如何从一维数组中提取满足指定条件的元素？ 5. 如何用numpy数组中的另一个值替换满足条件的元素项？ 6. 如何在不影响原始数组的情况下替换满足条件的元素项？ 7. 如何改变数组的形状？ 8. 如何垂直叠加两个数组？ 9. 如何水平叠加两个数组？ 10. 如何在无硬编码的情况下生成nump">
<meta name="keywords" content="Numpy,Pandas">
<meta property="og:type" content="article">
<meta property="og:title" content="Numpy | 数据分析练习">
<meta property="og:url" content="https://deardjh.github.io/2019/03/30/numpy-data-analysis/index.html">
<meta property="og:site_name" content="Jhai.Dai&#39;s  Blog">
<meta property="og:description" content="1、导入numpy作为np，并查看版本 2、如何创建一维数组？ 3. 如何创建一个布尔数组？ 4. 如何从一维数组中提取满足指定条件的元素？ 5. 如何用numpy数组中的另一个值替换满足条件的元素项？ 6. 如何在不影响原始数组的情况下替换满足条件的元素项？ 7. 如何改变数组的形状？ 8. 如何垂直叠加两个数组？ 9. 如何水平叠加两个数组？ 10. 如何在无硬编码的情况下生成nump">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-03-31T06:39:14.643Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Numpy | 数据分析练习">
<meta name="twitter:description" content="1、导入numpy作为np，并查看版本 2、如何创建一维数组？ 3. 如何创建一个布尔数组？ 4. 如何从一维数组中提取满足指定条件的元素？ 5. 如何用numpy数组中的另一个值替换满足条件的元素项？ 6. 如何在不影响原始数组的情况下替换满足条件的元素项？ 7. 如何改变数组的形状？ 8. 如何垂直叠加两个数组？ 9. 如何水平叠加两个数组？ 10. 如何在无硬编码的情况下生成nump">



  <link rel="alternate" href="/atom.xml" title="Jhai.Dai's  Blog" type="application/atom+xml">




  <link rel="canonical" href="https://deardjh.github.io/2019/03/30/numpy-data-analysis/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Numpy | 数据分析练习 | Jhai.Dai's  Blog</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jhai.Dai's  Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">不积跬步无以至千里，不积小流无以成江海</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive          //归档"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th           //分类"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags                     //标签"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user                   //关于"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    

    <a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat          //公益404"></i> <br>公益 404</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://deardjh.github.io/2019/03/30/numpy-data-analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jhai.Dai">
      <meta itemprop="description" content="山不在高有仙则灵,水不在深有龙则灵">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jhai.Dai's  Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Numpy | 数据分析练习

              
            
          </h1>
        

        <div class="post-meta">
        
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-03-30` 21:05:50" itemprop="dateCreated datePublished" datetime="2019-03-30T21:05:50+08:00">2019-03-30`</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-03-31` 14:39:14" itemprop="dateModified" datetime="2019-03-31T14:39:14+08:00">2019-03-31`</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Data-Analysis/" itemprop="url" rel="index"><span itemprop="name">Data Analysis</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">50k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">45 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <div class="toc">

<!-- toc -->
<ul>
<li><a href="#1-dao-ru-numpy-zuo-wei-np-bing-cha-kan-ban-ben">1、导入numpy作为np，并查看版本</a></li>
<li><a href="#2-ru-he-chuang-jian-yi-wei-shu-zu">2、如何创建一维数组？</a></li>
<li><a href="#3-ru-he-chuang-jian-yi-ge-bu-er-shu-zu">3. 如何创建一个布尔数组？</a></li>
<li><a href="#4-ru-he-cong-yi-wei-shu-zu-zhong-ti-qu-man-zu-zhi-ding-tiao-jian-de-yuan-su">4. 如何从一维数组中提取满足指定条件的元素？</a></li>
<li><a href="#5-ru-he-yong-numpy-shu-zu-zhong-de-ling-yi-ge-zhi-ti-huan-man-zu-tiao-jian-de-yuan-su-xiang">5. 如何用numpy数组中的另一个值替换满足条件的元素项？</a></li>
<li><a href="#6-ru-he-zai-bu-ying-xiang-yuan-shi-shu-zu-de-qing-kuang-xia-ti-huan-man-zu-tiao-jian-de-yuan-su-xiang">6. 如何在不影响原始数组的情况下替换满足条件的元素项？</a></li>
<li><a href="#7-ru-he-gai-bian-shu-zu-de-xing-zhuang">7. 如何改变数组的形状？</a></li>
<li><a href="#8-ru-he-chui-zhi-die-jia-liang-ge-shu-zu">8. 如何垂直叠加两个数组？</a></li>
<li><a href="#9-ru-he-shui-ping-die-jia-liang-ge-shu-zu">9. 如何水平叠加两个数组？</a></li>
<li><a href="#10-ru-he-zai-wu-ying-bian-ma-de-qing-kuang-xia-sheng-cheng-numpy-zhong-de-zi-ding-yi-xu-lie">10. 如何在无硬编码的情况下生成numpy中的自定义序列？</a></li>
<li><a href="#11-ru-he-huo-qu-liang-ge-numpy-shu-zu-zhi-jian-de-gong-gong-xiang">11. 如何获取两个numpy数组之间的公共项？</a></li>
<li><a href="#12-ru-he-cong-yi-ge-shu-zu-zhong-shan-chu-cun-zai-yu-ling-yi-ge-shu-zu-zhong-de-xiang">12. 如何从一个数组中删除存在于另一个数组中的项？</a></li>
<li><a href="#13-ru-he-de-dao-liang-ge-shu-zu-yuan-su-pi-pei-de-wei-zhi">13. 如何得到两个数组元素匹配的位置？</a></li>
<li><a href="#14-ru-he-cong-numpy-shu-zu-zhong-ti-qu-gei-ding-fan-wei-nei-de-suo-you-shu-zi">14. 如何从numpy数组中提取给定范围内的所有数字？</a></li>
<li><a href="#15-ru-he-chuang-jian-yi-ge-python-han-shu-lai-chu-li-scalars-bing-zai-numpy-shu-zu-shang-gong-zuo">15. 如何创建一个python函数来处理scalars并在numpy数组上工作？</a></li>
<li><a href="#16-ru-he-jiao-huan-er-wei-numpy-shu-zu-zhong-de-liang-lie">16. 如何交换二维numpy数组中的两列？</a></li>
<li><a href="#17-ru-he-jiao-huan-er-wei-numpy-shu-zu-zhong-de-liang-xing">17. 如何交换二维numpy数组中的两行？</a></li>
<li><a href="#18-ru-he-fan-zhuan-er-wei-shu-zu-de-xing">18. 如何反转二维数组的行？</a></li>
<li><a href="#19-ru-he-fan-zhuan-er-wei-shu-zu-de-lie">19. 如何反转二维数组的列？</a></li>
<li><a href="#20-ru-he-chuang-jian-bao-han-5-dao-10-zhi-jian-sui-ji-fu-dong-de-er-wei-shu-zu">20. 如何创建包含5到10之间随机浮动的二维数组？</a></li>
<li><a href="#21-ru-he-zai-numpy-shu-zu-zhong-zhi-da-yin-xiao-shu-dian-hou-san-wei">21. 如何在numpy数组中只打印小数点后三位？</a></li>
<li><a href="#22-ru-he-tong-guo-e-shi-ke-xue-ji-shu-fa-ru-1e10-lai-da-yin-yi-ge-numpy-shu-zu">22. 如何通过e式科学记数法（如1e10）来打印一个numpy数组？</a></li>
<li><a href="#23-ru-he-xian-zhi-numpy-shu-zu-shu-chu-zhong-da-yin-de-xiang-mu-shu">23. 如何限制numpy数组输出中打印的项目数？</a></li>
<li><a href="#24-ru-he-da-yin-wan-zheng-de-numpy-shu-zu-er-bu-jie-duan">24. 如何打印完整的numpy数组而不截断</a></li>
<li><a href="#25-ru-he-dao-ru-shu-zi-he-wen-ben-de-shu-ju-ji-bao-chi-wen-ben-zai-numpy-shu-zu-zhong-wan-hao-wu-sun">25. 如何导入数字和文本的数据集保持文本在numpy数组中完好无损？</a></li>
<li><a href="#26-ru-he-cong-1-wei-yuan-zu-shu-zu-zhong-ti-qu-te-ding-lie">26. 如何从1维元组数组中提取特定列？</a></li>
<li><a href="#27-ru-he-jiang-1-wei-yuan-zu-shu-zu-zhuan-huan-wei-2-wei-numpy-shu-zu">27. 如何将1维元组数组转换为2维numpy数组？</a></li>
<li><a href="#28-ru-he-ji-suan-numpy-shu-zu-de-jun-zhi-zhong-wei-shu-biao-zhun-chai">28. 如何计算numpy数组的均值，中位数，标准差？</a></li>
<li><a href="#29-ru-he-gui-fan-hua-shu-zu-shi-shu-zu-de-zhi-zheng-hao-jie-yu-0-he-1-zhi-jian">29. 如何规范化数组，使数组的值正好介于0和1之间？</a></li>
<li><a href="#30-ru-he-ji-suan-softmax-de-fen">30. 如何计算Softmax得分？</a></li>
<li><a href="#31-ru-he-zhao-dao-numpy-shu-zu-de-bai-fen-wei-shu">31. 如何找到numpy数组的百分位数？</a></li>
<li><a href="#32-ru-he-zai-shu-zu-zhong-de-sui-ji-wei-zhi-cha-ru-zhi">32. 如何在数组中的随机位置插入值？</a></li>
<li><a href="#33-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-que-shi-zhi-de-wei-zhi">33. 如何在numpy数组中找到缺失值的位置？</a></li>
<li><a href="#34-ru-he-gen-ju-liang-ge-huo-duo-ge-tiao-jian-guo-lu-numpy-shu-zu">34. 如何根据两个或多个条件过滤numpy数组？</a></li>
<li><a href="#35-ru-he-cong-numpy-shu-zu-zhong-shan-chu-bao-han-que-shi-zhi-de-xing">35. 如何从numpy数组中删除包含缺失值的行？</a></li>
<li><a href="#36-ru-he-zhao-dao-numpy-shu-zu-de-liang-lie-zhi-jian-de-xiang-guan-xing">36. 如何找到numpy数组的两列之间的相关性？</a></li>
<li><a href="#37-ru-he-cha-zhao-gei-ding-shu-zu-shi-fou-ju-you-ren-he-kong-zhi">37. 如何查找给定数组是否具有任何空值？</a></li>
<li><a href="#38-ru-he-zai-numpy-shu-zu-zhong-yong-0-ti-huan-suo-you-que-shi-zhi">38. 如何在numpy数组中用0替换所有缺失值？</a></li>
<li><a href="#39-ru-he-zai-numpy-shu-zu-zhong-cha-zhao-wei-yi-zhi-de-ji-shu">39. 如何在numpy数组中查找唯一值的计数？</a></li>
<li><a href="#40-ru-he-jiang-shu-zi-zhuan-huan-wei-fen-lei-wen-ben-shu-zu">40. 如何将数字转换为分类（文本）数组？</a></li>
<li><a href="#41-ru-he-cong-numpy-shu-zu-de-xian-you-lie-chuang-jian-xin-lie">41. 如何从numpy数组的现有列创建新列？</a></li>
<li><a href="#42-ru-he-zai-numpy-zhong-jin-xing-gai-lu-chou-yang">42. 如何在numpy中进行概率抽样？</a></li>
<li><a href="#43-ru-he-zai-an-ling-yi-ge-shu-zu-fen-zu-shi-huo-qu-shu-zu-de-di-er-da-zhi">43. 如何在按另一个数组分组时获取数组的第二大值？</a></li>
<li><a href="#44-ru-he-an-lie-dui-2d-shu-zu-jin-xing-pai-xu">44. 如何按列对2D数组进行排序</a></li>
<li><a href="#45-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-zui-chang-jian-de-zhi">45. 如何在numpy数组中找到最常见的值？</a></li>
<li><a href="#46-ru-he-zhao-dao-di-yi-ci-chu-xian-de-zhi-da-yu-gei-ding-zhi-de-wei-zhi">46. 如何找到第一次出现的值大于给定值的位置？</a></li>
<li><a href="#47-ru-he-jiang-da-yu-gei-ding-zhi-de-suo-you-zhi-ti-huan-wei-gei-ding-de-jie-zhi-zhi">47. 如何将大于给定值的所有值替换为给定的截止值？</a></li>
<li><a href="#48-ru-he-cong-numpy-shu-zu-zhong-huo-qu-zui-da-n-zhi-de-wei-zhi">48. 如何从numpy数组中获取最大n值的位置？</a></li>
<li><a href="#49-ru-he-ji-suan-shu-zu-zhong-suo-you-ke-neng-zhi-de-xing-shu">49. 如何计算数组中所有可能值的行数？</a></li>
<li><a href="#50-ru-he-jiang-shu-zu-zhuan-huan-wei-ping-mian-yi-wei-shu-zu">50. 如何将数组转换为平面一维数组？</a></li>
<li><a href="#51-ru-he-zai-numpy-zhong-wei-shu-zu-sheng-cheng-dan-re-bian-ma">51. 如何在numpy中为数组生成单热编码？</a></li>
<li><a href="#52-ru-he-chuang-jian-an-fen-lei-bian-liang-fen-zu-de-xing-hao">52. 如何创建按分类变量分组的行号？</a></li>
<li><a href="#53-ru-he-gen-ju-gei-ding-de-fen-lei-bian-liang-chuang-jian-zu-id">53. 如何根据给定的分类变量创建组ID？</a></li>
<li><a href="#54-ru-he-shi-yong-numpy-dui-shu-zu-zhong-de-xiang-jin-xing-pai-ming">54. 如何使用numpy对数组中的项进行排名？</a></li>
<li><a href="#55-ru-he-shi-yong-numpy-dui-duo-wei-shu-zu-zhong-de-xiang-jin-xing-pai-ming">55. 如何使用numpy对多维数组中的项进行排名？</a></li>
<li><a href="#56-ru-he-zai-er-wei-numpy-shu-zu-de-mei-yi-xing-zhong-zhao-dao-zui-da-zhi">56. 如何在二维numpy数组的每一行中找到最大值？</a></li>
<li><a href="#57-ru-he-ji-suan-er-wei-numpy-shu-zu-mei-xing-de-zui-xiao-zhi">57. 如何计算二维numpy数组每行的最小值？</a></li>
<li><a href="#58-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-chong-fu-de-ji-lu">58. 如何在numpy数组中找到重复的记录？</a></li>
<li><a href="#59-ru-he-zhao-chu-shu-zi-de-fen-zu-jun-zhi">59. 如何找出数字的分组均值？</a></li>
<li><a href="#60-ru-he-jiang-pil-tu-xiang-zhuan-huan-wei-numpy-shu-zu">60. 如何将PIL图像转换为numpy数组？</a></li>
<li><a href="#61-ru-he-shan-chu-numpy-shu-zu-zhong-suo-you-que-shao-de-zhi">61. 如何删除numpy数组中所有缺少的值？</a></li>
<li><a href="#62-ru-he-ji-suan-liang-ge-shu-zu-zhi-jian-de-ou-shi-ju-chi">62. 如何计算两个数组之间的欧氏距离？</a></li>
<li><a href="#63-ru-he-zai-yi-wei-shu-zu-zhong-zhao-dao-suo-you-de-ju-bu-ji-da-zhi-huo-feng-zhi">63. 如何在一维数组中找到所有的局部极大值(或峰值)？</a></li>
<li><a href="#64-ru-he-cong-er-wei-shu-zu-zhong-jian-qu-yi-wei-shu-zu-qi-zhong-yi-wei-shu-zu-de-mei-yi-xiang-cong-ge-zi-de-xing-zhong-jian-qu">64. 如何从二维数组中减去一维数组，其中一维数组的每一项从各自的行中减去？</a></li>
<li><a href="#65-ru-he-cha-zhao-shu-zu-zhong-xiang-de-di-n-ci-chong-fu-suo-yin">65. 如何查找数组中项的第n次重复索引？</a></li>
<li><a href="#66-ru-he-jiang-numpy-de-datetime-64-dui-xiang-zhuan-huan-wei-datetime-de-datetime-dui-xiang">66. 如何将numpy的datetime 64对象转换为datetime的datetime对象？</a></li>
<li><a href="#67-ru-he-ji-suan-numpy-shu-zu-de-yi-dong-ping-jun-zhi">67. 如何计算numpy数组的移动平均值？</a></li>
<li><a href="#68-ru-he-zai-gei-ding-qi-shi-dian-chang-du-he-bu-zou-de-qing-kuang-xia-chuang-jian-yi-ge-numpy-shu-zu-xu-lie">68. 如何在给定起始点、长度和步骤的情况下创建一个numpy数组序列？</a></li>
<li><a href="#69-ru-he-tian-xie-bu-gui-ze-xi-lie-de-numpy-ri-qi-zhong-de-que-shi-ri-qi">69. 如何填写不规则系列的numpy日期中的缺失日期？</a></li>
<li><a href="#wen-zhang-chu-chu">文章出处</a></li>
</ul>
<!-- tocstop -->
</div>

<h3><span id="1-dao-ru-numpy-zuo-wei-np-bing-cha-kan-ban-ben">1、导入numpy作为np，并查看版本</span><a href="#1-dao-ru-numpy-zuo-wei-np-bing-cha-kan-ban-ben" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1<br><strong>问题：</strong>将numpy导入为 <code>np</code> 并打印版本号。<br><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">print(np.__version__)</span><br><span class="line"><span class="comment"># &gt; 1.13.3</span></span><br></pre></td></tr></table></figure>
<p>你必须将numpy导入np，才能使本练习中的其余代码正常工作。</p>
<p>要安装numpy，建议安装anaconda，里面已经包含了numpy。</p>
<h3><span id="2-ru-he-chuang-jian-yi-wei-shu-zu">2、如何创建一维数组？</span><a href="#2-ru-he-chuang-jian-yi-wei-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1<br><strong>问题：</strong>创建从0到9的一维数字数组</p>
<p><strong>期望输出：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure></p>
<p><strong>答案：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line">arr</span><br><span class="line"><span class="comment"># &gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure></p>
<h3><span id="3-ru-he-chuang-jian-yi-ge-bu-er-shu-zu">3. 如何创建一个布尔数组？</span><a href="#3-ru-he-chuang-jian-yi-ge-bu-er-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>创建一个numpy数组元素值全为True（真）的数组</p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">np.full((<span class="number">3</span>, <span class="number">3</span>), <span class="literal">True</span>, dtype=bool)</span><br><span class="line"><span class="comment"># &gt; array([[ True,  True,  True],</span></span><br><span class="line"><span class="comment"># &gt;        [ True,  True,  True],</span></span><br><span class="line"><span class="comment"># &gt;        [ True,  True,  True]], dtype=bool)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Alternate method:</span></span><br><span class="line">np.ones((<span class="number">3</span>,<span class="number">3</span>), dtype=bool)</span><br></pre></td></tr></table></figure>
<h3><span id="4-ru-he-cong-yi-wei-shu-zu-zhong-ti-qu-man-zu-zhi-ding-tiao-jian-de-yuan-su">4. 如何从一维数组中提取满足指定条件的元素？</span><a href="#4-ru-he-cong-yi-wei-shu-zu-zhong-ti-qu-man-zu-zhi-ding-tiao-jian-de-yuan-su" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>从 arr 中提取所有的奇数</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([1, 3, 5, 7, 9])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">arr[arr % <span class="number">2</span> == <span class="number">1</span>]</span><br><span class="line"><span class="comment"># &gt; array([1, 3, 5, 7, 9])</span></span><br></pre></td></tr></table></figure>
<h3><span id="5-ru-he-yong-numpy-shu-zu-zhong-de-ling-yi-ge-zhi-ti-huan-man-zu-tiao-jian-de-yuan-su-xiang">5. 如何用numpy数组中的另一个值替换满足条件的元素项？</span><a href="#5-ru-he-yong-numpy-shu-zu-zhong-de-ling-yi-ge-zhi-ti-huan-man-zu-tiao-jian-de-yuan-su-xiang" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>将arr中的所有奇数替换为-1。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt;  array([ 0, -1,  2, -1,  4, -1,  6, -1,  8, -1])</span></span><br></pre></td></tr></table></figure></p>
<p><strong>答案：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr[arr % <span class="number">2</span> == <span class="number">1</span>] = <span class="number">-1</span></span><br><span class="line">arr</span><br><span class="line"><span class="comment"># &gt; array([ 0, -1,  2, -1,  4, -1,  6, -1,  8, -1])</span></span><br></pre></td></tr></table></figure></p>
<h3><span id="6-ru-he-zai-bu-ying-xiang-yuan-shi-shu-zu-de-qing-kuang-xia-ti-huan-man-zu-tiao-jian-de-yuan-su-xiang">6. 如何在不影响原始数组的情况下替换满足条件的元素项？</span><a href="#6-ru-he-zai-bu-ying-xiang-yuan-shi-shu-zu-de-qing-kuang-xia-ti-huan-man-zu-tiao-jian-de-yuan-su-xiang" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>将arr中的所有奇数替换为-1，而不改变arr。</p>
<p><strong>给定：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = np.array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure></p>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">out</span><br><span class="line"><span class="comment"># &gt;  array([ 0, -1,  2, -1,  4, -1,  6, -1,  8, -1])</span></span><br><span class="line">arr</span><br><span class="line"><span class="comment"># &gt;  array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line">out = np.where(arr % <span class="number">2</span> == <span class="number">1</span>, <span class="number">-1</span>, arr)</span><br><span class="line">print(arr)</span><br><span class="line">out</span><br><span class="line"><span class="comment"># &gt; [0 1 2 3 4 5 6 7 8 9]</span></span><br><span class="line">array([ <span class="number">0</span>, <span class="number">-1</span>,  <span class="number">2</span>, <span class="number">-1</span>,  <span class="number">4</span>, <span class="number">-1</span>,  <span class="number">6</span>, <span class="number">-1</span>,  <span class="number">8</span>, <span class="number">-1</span>])</span><br></pre></td></tr></table></figure>
<h3><span id="7-ru-he-gai-bian-shu-zu-de-xing-zhuang">7. 如何改变数组的形状？</span><a href="#7-ru-he-gai-bian-shu-zu-de-xing-zhuang" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>将一维数组转换为2行的2维数组</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.arange(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># &gt; array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line"># &gt;        [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line">arr.reshape(<span class="number">2</span>, <span class="number">-1</span>)  <span class="comment"># Setting to -1 automatically decides the number of cols</span></span><br><span class="line"><span class="comment"># &gt; array([[0, 1, 2, 3, 4],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 6, 7, 8, 9]])</span></span><br></pre></td></tr></table></figure></p>
<h3><span id="8-ru-he-chui-zhi-die-jia-liang-ge-shu-zu">8. 如何垂直叠加两个数组？</span><a href="#8-ru-he-chui-zhi-die-jia-liang-ge-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>垂直堆叠数组a和数组b</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line">b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([[0, 1, 2, 3, 4],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 6, 7, 8, 9],</span></span><br><span class="line"><span class="comment"># &gt;        [1, 1, 1, 1, 1],</span></span><br><span class="line"><span class="comment"># &gt;        [1, 1, 1, 1, 1]])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line">b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Answers</span></span><br><span class="line"><span class="comment"># Method 1:</span></span><br><span class="line">np.concatenate([a, b], axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2:</span></span><br><span class="line">np.vstack([a, b])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 3:</span></span><br><span class="line">np.r_[a, b]</span><br><span class="line"><span class="comment"># &gt; array([[0, 1, 2, 3, 4],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 6, 7, 8, 9],</span></span><br><span class="line"><span class="comment"># &gt;        [1, 1, 1, 1, 1],</span></span><br><span class="line"><span class="comment"># &gt;        [1, 1, 1, 1, 1]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="9-ru-he-shui-ping-die-jia-liang-ge-shu-zu">9. 如何水平叠加两个数组？</span><a href="#9-ru-he-shui-ping-die-jia-liang-ge-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>将数组a和数组b水平堆叠。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([[0, 1, 2, 3, 4, 1, 1, 1, 1, 1],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 6, 7, 8, 9, 1, 1, 1, 1, 1]])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line">b = np.repeat(<span class="number">1</span>, <span class="number">10</span>).reshape(<span class="number">2</span>,<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Answers</span></span><br><span class="line"><span class="comment"># Method 1:</span></span><br><span class="line">np.concatenate([a, b], axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2:</span></span><br><span class="line">np.hstack([a, b])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 3:</span></span><br><span class="line">np.c_[a, b]</span><br><span class="line"><span class="comment"># &gt; array([[0, 1, 2, 3, 4, 1, 1, 1, 1, 1],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 6, 7, 8, 9, 1, 1, 1, 1, 1]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="10-ru-he-zai-wu-ying-bian-ma-de-qing-kuang-xia-sheng-cheng-numpy-zhong-de-zi-ding-yi-xu-lie">10. 如何在无硬编码的情况下生成numpy中的自定义序列？</span><a href="#10-ru-he-zai-wu-ying-bian-ma-de-qing-kuang-xia-sheng-cheng-numpy-zhong-de-zi-ding-yi-xu-lie" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>创建以下模式而不使用硬编码。只使用numpy函数和下面的输入数组a。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])`</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([1, 1, 1, 2, 2, 2, 3, 3, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.r_[np.repeat(a, <span class="number">3</span>), np.tile(a, <span class="number">3</span>)]</span><br><span class="line"><span class="comment"># &gt; array([1, 1, 1, 2, 2, 2, 3, 3, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3])</span></span><br></pre></td></tr></table></figure>
<h3><span id="11-ru-he-huo-qu-liang-ge-numpy-shu-zu-zhi-jian-de-gong-gong-xiang">11. 如何获取两个numpy数组之间的公共项？</span><a href="#11-ru-he-huo-qu-liang-ge-numpy-shu-zu-zhi-jian-de-gong-gong-xiang" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>获取数组a和数组b之间的公共项。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b = np.array([<span class="number">7</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">2</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b = np.array([<span class="number">7</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>])</span><br><span class="line">np.intersect1d(a,b)</span><br><span class="line"><span class="comment"># &gt; array([2, 4])</span></span><br></pre></td></tr></table></figure>
<h3><span id="12-ru-he-cong-yi-ge-shu-zu-zhong-shan-chu-cun-zai-yu-ling-yi-ge-shu-zu-zhong-de-xiang">12. 如何从一个数组中删除存在于另一个数组中的项？</span><a href="#12-ru-he-cong-yi-ge-shu-zu-zhong-shan-chu-cun-zai-yu-ling-yi-ge-shu-zu-zhong-de-xiang" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>从数组a中删除数组b中的所有项。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># From 'a' remove all of 'b'</span></span><br><span class="line">np.setdiff1d(a,b)</span><br><span class="line"><span class="comment"># &gt; array([1, 2, 3, 4])</span></span><br></pre></td></tr></table></figure>
<h3><span id="13-ru-he-de-dao-liang-ge-shu-zu-yuan-su-pi-pei-de-wei-zhi">13. 如何得到两个数组元素匹配的位置？</span><a href="#13-ru-he-de-dao-liang-ge-shu-zu-yuan-su-pi-pei-de-wei-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>获取a和b元素匹配的位置。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b = np.array([<span class="number">7</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; (array([1, 3, 5, 7]),)</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b = np.array([<span class="number">7</span>,<span class="number">2</span>,<span class="number">10</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>])</span><br><span class="line"></span><br><span class="line">np.where(a == b)</span><br><span class="line"><span class="comment"># &gt; (array([1, 3, 5, 7]),)</span></span><br></pre></td></tr></table></figure></p>
<h3><span id="14-ru-he-cong-numpy-shu-zu-zhong-ti-qu-gei-ding-fan-wei-nei-de-suo-you-shu-zi">14. 如何从numpy数组中提取给定范围内的所有数字？</span><a href="#14-ru-he-cong-numpy-shu-zu-zhong-ti-qu-gei-ding-fan-wei-nei-de-suo-you-shu-zi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>获取5到10之间的所有项目。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">27</span>])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(array([<span class="number">6</span>, <span class="number">9</span>, <span class="number">10</span>]),)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 1</span></span><br><span class="line">index = np.where((a &gt;= <span class="number">5</span>) &amp; (a &lt;= <span class="number">10</span>))</span><br><span class="line">a[index]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2:</span></span><br><span class="line">index = np.where(np.logical_and(a&gt;=<span class="number">5</span>, a&lt;=<span class="number">10</span>))</span><br><span class="line">a[index]</span><br><span class="line"><span class="comment"># &gt; (array([6, 9, 10]),)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 3: (thanks loganzk!)</span></span><br><span class="line">a[(a &gt;= <span class="number">5</span>) &amp; (a &lt;= <span class="number">10</span>)]</span><br></pre></td></tr></table></figure>
<h3><span id="15-ru-he-chuang-jian-yi-ge-python-han-shu-lai-chu-li-scalars-bing-zai-numpy-shu-zu-shang-gong-zuo">15. 如何创建一个python函数来处理scalars并在numpy数组上工作？</span><a href="#15-ru-he-chuang-jian-yi-ge-python-han-shu-lai-chu-li-scalars-bing-zai-numpy-shu-zu-shang-gong-zuo" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>转换适用于两个标量的函数maxx，以处理两个数组。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxx</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="string">"""Get the maximum of two items"""</span></span><br><span class="line">    <span class="keyword">if</span> x &gt;= y:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">maxx(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment"># &gt; 5</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">1</span>])</span><br><span class="line">pair_max(a, b)</span><br><span class="line"><span class="comment"># &gt; array([ 6.,  7.,  9.,  8.,  9.,  7.,  5.])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxx</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="string">"""Get the maximum of two items"""</span></span><br><span class="line">    <span class="keyword">if</span> x &gt;= y:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">pair_max = np.vectorize(maxx, otypes=[float])</span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">6</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">pair_max(a, b)</span><br><span class="line"><span class="comment"># &gt; array([ 6.,  7.,  9.,  8.,  9.,  7.,  5.])</span></span><br></pre></td></tr></table></figure>
<h3><span id="16-ru-he-jiao-huan-er-wei-numpy-shu-zu-zhong-de-liang-lie">16. 如何交换二维numpy数组中的两列？</span><a href="#16-ru-he-jiao-huan-er-wei-numpy-shu-zu-zhong-de-liang-lie" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>在数组arr中交换列1和2。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">arr</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">arr[:, [<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>]]</span><br><span class="line"><span class="comment"># &gt; array([[1, 0, 2],</span></span><br><span class="line"><span class="comment"># &gt;        [4, 3, 5],</span></span><br><span class="line"><span class="comment"># &gt;        [7, 6, 8]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="17-ru-he-jiao-huan-er-wei-numpy-shu-zu-zhong-de-liang-xing">17. 如何交换二维numpy数组中的两行？</span><a href="#17-ru-he-jiao-huan-er-wei-numpy-shu-zu-zhong-de-liang-xing" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>交换数组arr中的第1和第2行：</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">arr</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">arr[[<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>], :]</span><br><span class="line"><span class="comment"># &gt; array([[3, 4, 5],</span></span><br><span class="line"><span class="comment"># &gt;        [0, 1, 2],</span></span><br><span class="line"><span class="comment"># &gt;        [6, 7, 8]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="18-ru-he-fan-zhuan-er-wei-shu-zu-de-xing">18. 如何反转二维数组的行？</span><a href="#18-ru-he-fan-zhuan-er-wei-shu-zu-de-xing" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>反转二维数组arr的行。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Solution</span></span><br><span class="line">arr[::<span class="number">-1</span>]</span><br><span class="line">array([[<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]])</span><br></pre></td></tr></table></figure>
<h3><span id="19-ru-he-fan-zhuan-er-wei-shu-zu-de-lie">19. 如何反转二维数组的列？</span><a href="#19-ru-he-fan-zhuan-er-wei-shu-zu-de-lie" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>反转二维数组arr的列。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">arr[:, ::<span class="number">-1</span>]</span><br><span class="line"><span class="comment"># &gt; array([[2, 1, 0],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 4, 3],</span></span><br><span class="line"><span class="comment"># &gt;        [8, 7, 6]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="20-ru-he-chuang-jian-bao-han-5-dao-10-zhi-jian-sui-ji-fu-dong-de-er-wei-shu-zu">20. 如何创建包含5到10之间随机浮动的二维数组？</span><a href="#20-ru-he-chuang-jian-bao-han-5-dao-10-zhi-jian-sui-ji-fu-dong-de-er-wei-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>创建一个形状为5x3的二维数组，以包含5到10之间的随机十进制数。</p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution Method 1:</span></span><br><span class="line">rand_arr = np.random.randint(low=<span class="number">5</span>, high=<span class="number">10</span>, size=(<span class="number">5</span>,<span class="number">3</span>)) + np.random.random((<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line"><span class="comment"># print(rand_arr)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution Method 2:</span></span><br><span class="line">rand_arr = np.random.uniform(<span class="number">5</span>,<span class="number">10</span>, size=(<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line">print(rand_arr)</span><br><span class="line"><span class="comment"># &gt; [[ 8.50061025  9.10531502  6.85867783]</span></span><br><span class="line"><span class="comment"># &gt;  [ 9.76262069  9.87717411  7.13466701]</span></span><br><span class="line"><span class="comment"># &gt;  [ 7.48966403  8.33409158  6.16808631]</span></span><br><span class="line"><span class="comment"># &gt;  [ 7.75010551  9.94535696  5.27373226]</span></span><br><span class="line"><span class="comment"># &gt;  [ 8.0850361   5.56165518  7.31244004]]</span></span><br></pre></td></tr></table></figure>
<h3><span id="21-ru-he-zai-numpy-shu-zu-zhong-zhi-da-yin-xiao-shu-dian-hou-san-wei">21. 如何在numpy数组中只打印小数点后三位？</span><a href="#21-ru-he-zai-numpy-shu-zu-zhong-zhi-da-yin-xiao-shu-dian-hou-san-wei" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>只打印或显示numpy数组rand_arr的小数点后3位。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rand_arr = np.random.random((<span class="number">5</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">rand_arr = np.random.random((<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create the random array</span></span><br><span class="line">rand_arr = np.random.random([<span class="number">5</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Limit to 3 decimal places</span></span><br><span class="line">np.set_printoptions(precision=<span class="number">3</span>)</span><br><span class="line">rand_arr[:<span class="number">4</span>]</span><br><span class="line"><span class="comment"># &gt; array([[ 0.443,  0.109,  0.97 ],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.388,  0.447,  0.191],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.891,  0.474,  0.212],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.609,  0.518,  0.403]])</span></span><br></pre></td></tr></table></figure></p>
<h3><span id="22-ru-he-tong-guo-e-shi-ke-xue-ji-shu-fa-ru-1e10-lai-da-yin-yi-ge-numpy-shu-zu">22. 如何通过e式科学记数法（如1e10）来打印一个numpy数组？</span><a href="#22-ru-he-tong-guo-e-shi-ke-xue-ji-shu-fa-ru-1e10-lai-da-yin-yi-ge-numpy-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>通过e式科学记数法来打印rand_arr（如1e10）</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create the random array</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">rand_arr = np.random.random([<span class="number">3</span>,<span class="number">3</span>])/<span class="number">1e3</span></span><br><span class="line">rand_arr</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; array([[  5.434049e-04,   2.783694e-04,   4.245176e-04],</span></span><br><span class="line"><span class="comment"># &gt;        [  8.447761e-04,   4.718856e-06,   1.215691e-04],</span></span><br><span class="line"><span class="comment"># &gt;        [  6.707491e-04,   8.258528e-04,   1.367066e-04]])</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([[ 0.000543,  0.000278,  0.000425],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.000845,  0.000005,  0.000122],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.000671,  0.000826,  0.000137]])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Reset printoptions to default</span></span><br><span class="line">np.set_printoptions(suppress=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create the random array</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">rand_arr = np.random.random([<span class="number">3</span>,<span class="number">3</span>])/<span class="number">1e3</span></span><br><span class="line">rand_arr</span><br><span class="line"><span class="comment"># &gt; array([[  5.434049e-04,   2.783694e-04,   4.245176e-04],</span></span><br><span class="line"><span class="comment"># &gt;        [  8.447761e-04,   4.718856e-06,   1.215691e-04],</span></span><br><span class="line"><span class="comment"># &gt;        [  6.707491e-04,   8.258528e-04,   1.367066e-04]])</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(suppress=<span class="literal">True</span>, precision=<span class="number">6</span>)  <span class="comment"># precision is optional</span></span><br><span class="line">rand_arr</span><br><span class="line"><span class="comment"># &gt; array([[ 0.000543,  0.000278,  0.000425],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.000845,  0.000005,  0.000122],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.000671,  0.000826,  0.000137]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="23-ru-he-xian-zhi-numpy-shu-zu-shu-chu-zhong-da-yin-de-xiang-mu-shu">23. 如何限制numpy数组输出中打印的项目数？</span><a href="#23-ru-he-xian-zhi-numpy-shu-zu-shu-chu-zhong-da-yin-de-xiang-mu-shu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>将numpy数组a中打印的项数限制为最多6个元素。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">15</span>)</span><br><span class="line"><span class="comment"># &gt; array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([ 0,  1,  2, ..., 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold=<span class="number">6</span>)</span><br><span class="line">a = np.arange(<span class="number">15</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># &gt; array([ 0,  1,  2, ..., 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<h3><span id="24-ru-he-da-yin-wan-zheng-de-numpy-shu-zu-er-bu-jie-duan">24. 如何打印完整的numpy数组而不截断</span><a href="#24-ru-he-da-yin-wan-zheng-de-numpy-shu-zu-er-bu-jie-duan" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>打印完整的numpy数组a而不截断。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold=<span class="number">6</span>)</span><br><span class="line">a = np.arange(<span class="number">15</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># &gt; array([ 0,  1,  2, ..., 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line"><span class="comment"># &gt; array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">np.set_printoptions(threshold=<span class="number">6</span>)</span><br><span class="line">a = np.arange(<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">np.set_printoptions(threshold=np.nan)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># &gt; array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<h3><span id="25-ru-he-dao-ru-shu-zi-he-wen-ben-de-shu-ju-ji-bao-chi-wen-ben-zai-numpy-shu-zu-zhong-wan-hao-wu-sun">25. 如何导入数字和文本的数据集保持文本在numpy数组中完好无损？</span><a href="#25-ru-he-dao-ru-shu-zi-he-wen-ben-de-shu-ju-ji-bao-chi-wen-ben-zai-numpy-shu-zu-zhong-wan-hao-wu-sun" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>导入鸢尾属植物数据集，保持文本不变。</p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Solution</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print the first 3 rows</span></span><br><span class="line">iris[:<span class="number">3</span>]</span><br><span class="line"><span class="comment"># &gt; array([[b'5.1', b'3.5', b'1.4', b'0.2', b'Iris-setosa'],</span></span><br><span class="line"><span class="comment"># &gt;        [b'4.9', b'3.0', b'1.4', b'0.2', b'Iris-setosa'],</span></span><br><span class="line"><span class="comment"># &gt;        [b'4.7', b'3.2', b'1.3', b'0.2', b'Iris-setosa']], dtype=object)</span></span><br></pre></td></tr></table></figure>
<h3><span id="26-ru-he-cong-1-wei-yuan-zu-shu-zu-zhong-ti-qu-te-ding-lie">26. 如何从1维元组数组中提取特定列？</span><a href="#26-ru-he-cong-1-wei-yuan-zu-shu-zu-zhong-ti-qu-te-ding-lie" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>从前面问题中导入的一维鸢尾属植物数据集中提取文本列的物种。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_1d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_1d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="literal">None</span>)</span><br><span class="line">print(iris_1d.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution:</span></span><br><span class="line">species = np.array([row[<span class="number">4</span>] <span class="keyword">for</span> row <span class="keyword">in</span> iris_1d])</span><br><span class="line">species[:<span class="number">5</span>]</span><br><span class="line"><span class="comment"># &gt; (150,)</span></span><br><span class="line"><span class="comment"># &gt; array([b'Iris-setosa', b'Iris-setosa', b'Iris-setosa', b'Iris-setosa',</span></span><br><span class="line"><span class="comment"># &gt;        b'Iris-setosa'],</span></span><br><span class="line"><span class="comment"># &gt;       dtype='|S18')</span></span><br></pre></td></tr></table></figure>
<h3><span id="27-ru-he-jiang-1-wei-yuan-zu-shu-zu-zhuan-huan-wei-2-wei-numpy-shu-zu">27. 如何将1维元组数组转换为2维numpy数组？</span><a href="#27-ru-he-jiang-1-wei-yuan-zu-shu-zu-zhuan-huan-wei-2-wei-numpy-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>通过省略鸢尾属植物数据集种类的文本字段，将一维鸢尾属植物数据集转换为二维数组iris_2d。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_1d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_1d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution:</span></span><br><span class="line"><span class="comment"># Method 1: Convert each row to a list and get the first 4 items</span></span><br><span class="line">iris_2d = np.array([row.tolist()[:<span class="number">4</span>] <span class="keyword">for</span> row <span class="keyword">in</span> iris_1d])</span><br><span class="line">iris_2d[:<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Alt Method 2: Import only the first 4 columns from source url</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">iris_2d[:<span class="number">4</span>]</span><br><span class="line"><span class="comment"># &gt; array([[ 5.1,  3.5,  1.4,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.9,  3. ,  1.4,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.7,  3.2,  1.3,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.6,  3.1,  1.5,  0.2]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="28-ru-he-ji-suan-numpy-shu-zu-de-jun-zhi-zhong-wei-shu-biao-zhun-chai">28. 如何计算numpy数组的均值，中位数，标准差？</span><a href="#28-ru-he-ji-suan-numpy-shu-zu-de-jun-zhi-zhong-wei-shu-biao-zhun-chai" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>求出鸢尾属植物萼片长度的平均值、中位数和标准差(第1列)</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">mu, med, sd = np.mean(sepallength), np.median(sepallength), np.std(sepallength)</span><br><span class="line">print(mu, med, sd)</span><br><span class="line"><span class="comment"># &gt; 5.84333333333 5.8 0.825301291785</span></span><br></pre></td></tr></table></figure>
<h3><span id="29-ru-he-gui-fan-hua-shu-zu-shi-shu-zu-de-zhi-zheng-hao-jie-yu-0-he-1-zhi-jian">29. 如何规范化数组，使数组的值正好介于0和1之间？</span><a href="#29-ru-he-gui-fan-hua-shu-zu-shi-shu-zu-de-zhi-zheng-hao-jie-yu-0-he-1-zhi-jian" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>创建一种标准化形式的鸢尾属植物间隔长度，其值正好介于0和1之间，这样最小值为0，最大值为1。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">Smax, Smin = sepallength.max(), sepallength.min()</span><br><span class="line">S = (sepallength - Smin)/(Smax - Smin)</span><br><span class="line"><span class="comment"># or </span></span><br><span class="line">S = (sepallength - Smin)/sepallength.ptp()  <span class="comment"># Thanks, David Ojeda!</span></span><br><span class="line">print(S)</span><br><span class="line"><span class="comment"># &gt; [ 0.222  0.167  0.111  0.083  0.194  0.306  0.083  0.194  0.028  0.167</span></span><br><span class="line"><span class="comment"># &gt;   0.306  0.139  0.139  0.     0.417  0.389  0.306  0.222  0.389  0.222</span></span><br><span class="line"><span class="comment"># &gt;   0.306  0.222  0.083  0.222  0.139  0.194  0.194  0.25   0.25   0.111</span></span><br><span class="line"><span class="comment"># &gt;   0.139  0.306  0.25   0.333  0.167  0.194  0.333  0.167  0.028  0.222</span></span><br><span class="line"><span class="comment"># &gt;   0.194  0.056  0.028  0.194  0.222  0.139  0.222  0.083  0.278  0.194</span></span><br><span class="line"><span class="comment"># &gt;   0.75   0.583  0.722  0.333  0.611  0.389  0.556  0.167  0.639  0.25</span></span><br><span class="line"><span class="comment"># &gt;   0.194  0.444  0.472  0.5    0.361  0.667  0.361  0.417  0.528  0.361</span></span><br><span class="line"><span class="comment"># &gt;   0.444  0.5    0.556  0.5    0.583  0.639  0.694  0.667  0.472  0.389</span></span><br><span class="line"><span class="comment"># &gt;   0.333  0.333  0.417  0.472  0.306  0.472  0.667  0.556  0.361  0.333</span></span><br><span class="line"><span class="comment"># &gt;   0.333  0.5    0.417  0.194  0.361  0.389  0.389  0.528  0.222  0.389</span></span><br><span class="line"><span class="comment"># &gt;   0.556  0.417  0.778  0.556  0.611  0.917  0.167  0.833  0.667  0.806</span></span><br><span class="line"><span class="comment"># &gt;   0.611  0.583  0.694  0.389  0.417  0.583  0.611  0.944  0.944  0.472</span></span><br><span class="line"><span class="comment"># &gt;   0.722  0.361  0.944  0.556  0.667  0.806  0.528  0.5    0.583  0.806</span></span><br><span class="line"><span class="comment"># &gt;   0.861  1.     0.583  0.556  0.5    0.944  0.556  0.583  0.472  0.722</span></span><br><span class="line"><span class="comment"># &gt;   0.667  0.722  0.417  0.694  0.667  0.667  0.556  0.611  0.528  0.444]</span></span><br></pre></td></tr></table></figure>
<h3><span id="30-ru-he-ji-suan-softmax-de-fen">30. 如何计算Softmax得分？</span><a href="#30-ru-he-ji-suan-softmax-de-fen" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>计算sepallength的softmax分数。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">sepallength = np.array([float(row[<span class="number">0</span>]) <span class="keyword">for</span> row <span class="keyword">in</span> iris])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">softmax</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="string">"""Compute softmax values for each sets of scores in x.</span></span><br><span class="line"><span class="string">    https://stackoverflow.com/questions/34968722/how-to-implement-the-softmax-function-in-python"""</span></span><br><span class="line">    e_x = np.exp(x - np.max(x))</span><br><span class="line">    <span class="keyword">return</span> e_x / e_x.sum(axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">print(softmax(sepallength))</span><br><span class="line"><span class="comment"># &gt; [ 0.002  0.002  0.001  0.001  0.002  0.003  0.001  0.002  0.001  0.002</span></span><br><span class="line"><span class="comment"># &gt;   0.003  0.002  0.002  0.001  0.004  0.004  0.003  0.002  0.004  0.002</span></span><br><span class="line"><span class="comment"># &gt;   0.003  0.002  0.001  0.002  0.002  0.002  0.002  0.002  0.002  0.001</span></span><br><span class="line"><span class="comment"># &gt;   0.002  0.003  0.002  0.003  0.002  0.002  0.003  0.002  0.001  0.002</span></span><br><span class="line"><span class="comment"># &gt;   0.002  0.001  0.001  0.002  0.002  0.002  0.002  0.001  0.003  0.002</span></span><br><span class="line"><span class="comment"># &gt;   0.015  0.008  0.013  0.003  0.009  0.004  0.007  0.002  0.01   0.002</span></span><br><span class="line"><span class="comment"># &gt;   0.002  0.005  0.005  0.006  0.004  0.011  0.004  0.004  0.007  0.004</span></span><br><span class="line"><span class="comment"># &gt;   0.005  0.006  0.007  0.006  0.008  0.01   0.012  0.011  0.005  0.004</span></span><br><span class="line"><span class="comment"># &gt;   0.003  0.003  0.004  0.005  0.003  0.005  0.011  0.007  0.004  0.003</span></span><br><span class="line"><span class="comment"># &gt;   0.003  0.006  0.004  0.002  0.004  0.004  0.004  0.007  0.002  0.004</span></span><br><span class="line"><span class="comment"># &gt;   0.007  0.004  0.016  0.007  0.009  0.027  0.002  0.02   0.011  0.018</span></span><br><span class="line"><span class="comment"># &gt;   0.009  0.008  0.012  0.004  0.004  0.008  0.009  0.03   0.03   0.005</span></span><br><span class="line"><span class="comment"># &gt;   0.013  0.004  0.03   0.007  0.011  0.018  0.007  0.006  0.008  0.018</span></span><br><span class="line"><span class="comment"># &gt;   0.022  0.037  0.008  0.007  0.006  0.03   0.007  0.008  0.005  0.013</span></span><br><span class="line"><span class="comment"># &gt;   0.011  0.013  0.004  0.012  0.011  0.011  0.007  0.009  0.007  0.005]</span></span><br></pre></td></tr></table></figure>
<h3><span id="31-ru-he-zhao-dao-numpy-shu-zu-de-bai-fen-wei-shu">31. 如何找到numpy数组的百分位数？</span><a href="#31-ru-he-zhao-dao-numpy-shu-zu-de-bai-fen-wei-shu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>找到鸢尾属植物数据集的第5和第95百分位数</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">sepallength = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">np.percentile(sepallength, q=[<span class="number">5</span>, <span class="number">95</span>])</span><br><span class="line"><span class="comment"># &gt; array([ 4.6  ,  7.255])</span></span><br></pre></td></tr></table></figure>
<h3><span id="32-ru-he-zai-shu-zu-zhong-de-sui-ji-wei-zhi-cha-ru-zhi">32. 如何在数组中的随机位置插入值？</span><a href="#32-ru-he-zai-shu-zu-zhong-de-sui-ji-wei-zhi-cha-ru-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>在iris_2d数据集中的20个随机位置插入np.nan值</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 1</span></span><br><span class="line">i, j = np.where(iris_2d)</span><br><span class="line"></span><br><span class="line"><span class="comment"># i, j contain the row numbers and column numbers of 600 elements of iris_x</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">iris_2d[np.random.choice((i), <span class="number">20</span>), np.random.choice((j), <span class="number">20</span>)] = np.nan</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print first 10 rows</span></span><br><span class="line">print(iris_2d[:<span class="number">10</span>])</span><br><span class="line"><span class="comment"># &gt; [[b'5.1' b'3.5' b'1.4' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.9' b'3.0' b'1.4' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.7' b'3.2' b'1.3' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.6' b'3.1' b'1.5' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'5.0' b'3.6' b'1.4' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'5.4' b'3.9' b'1.7' b'0.4' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.6' b'3.4' b'1.4' b'0.3' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'5.0' b'3.4' b'1.5' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.4' nan b'1.4' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.9' b'3.1' b'1.5' b'0.1' b'Iris-setosa']]</span></span><br></pre></td></tr></table></figure>
<h3><span id="33-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-que-shi-zhi-de-wei-zhi">33. 如何在numpy数组中找到缺失值的位置？</span><a href="#33-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-que-shi-zhi-de-wei-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>在iris_2d的sepallength中查找缺失值的数量和位置（第1列）</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>)</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">print(<span class="string">"Number of missing values: \n"</span>, np.isnan(iris_2d[:, <span class="number">0</span>]).sum())</span><br><span class="line">print(<span class="string">"Position of missing values: \n"</span>, np.where(np.isnan(iris_2d[:, <span class="number">0</span>])))</span><br><span class="line"><span class="comment"># &gt; Number of missing values: </span></span><br><span class="line"><span class="comment"># &gt;  5</span></span><br><span class="line"><span class="comment"># &gt; Position of missing values: </span></span><br><span class="line"><span class="comment"># &gt;  (array([ 39,  88,  99, 130, 147]),)</span></span><br></pre></td></tr></table></figure>
<h3><span id="34-ru-he-gen-ju-liang-ge-huo-duo-ge-tiao-jian-guo-lu-numpy-shu-zu">34. 如何根据两个或多个条件过滤numpy数组？</span><a href="#34-ru-he-gen-ju-liang-ge-huo-duo-ge-tiao-jian-guo-lu-numpy-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>过滤具有petallength（第3列）&gt; 1.5 和 sepallength（第1列）&lt; 5.0 的iris_2d行</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">condition = (iris_2d[:, <span class="number">2</span>] &gt; <span class="number">1.5</span>) &amp; (iris_2d[:, <span class="number">0</span>] &lt; <span class="number">5.0</span>)</span><br><span class="line">iris_2d[condition]</span><br><span class="line"><span class="comment"># &gt; array([[ 4.8,  3.4,  1.6,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.8,  3.4,  1.9,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.7,  3.2,  1.6,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.8,  3.1,  1.6,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.9,  2.4,  3.3,  1. ],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.9,  2.5,  4.5,  1.7]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="35-ru-he-cong-numpy-shu-zu-zhong-shan-chu-bao-han-que-shi-zhi-de-xing">35. 如何从numpy数组中删除包含缺失值的行？</span><a href="#35-ru-he-cong-numpy-shu-zu-zhong-shan-chu-bao-han-que-shi-zhi-de-xing" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3:</p>
<p><strong>问题：</strong>选择没有任何nan值的iris_2d行。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="comment"># No direct numpy function for this.</span></span><br><span class="line"><span class="comment"># Method 1:</span></span><br><span class="line">any_nan_in_row = np.array([~np.any(np.isnan(row)) <span class="keyword">for</span> row <span class="keyword">in</span> iris_2d])</span><br><span class="line">iris_2d[any_nan_in_row][:<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2: (By Rong)</span></span><br><span class="line">iris_2d[np.sum(np.isnan(iris_2d), axis = <span class="number">1</span>) == <span class="number">0</span>][:<span class="number">5</span>]</span><br><span class="line"><span class="comment"># &gt; array([[ 4.9,  3. ,  1.4,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.7,  3.2,  1.3,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.6,  3.1,  1.5,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 5. ,  3.6,  1.4,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 5.4,  3.9,  1.7,  0.4]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="36-ru-he-zhao-dao-numpy-shu-zu-de-liang-lie-zhi-jian-de-xiang-guan-xing">36. 如何找到numpy数组的两列之间的相关性？</span><a href="#36-ru-he-zhao-dao-numpy-shu-zu-de-liang-lie-zhi-jian-de-xiang-guan-xing" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>在iris_2d中找出SepalLength（第1列）和PetalLength（第3列）之间的相关性</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 1</span></span><br><span class="line">np.corrcoef(iris[:, <span class="number">0</span>], iris[:, <span class="number">2</span>])[<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 2</span></span><br><span class="line"><span class="keyword">from</span> scipy.stats.stats <span class="keyword">import</span> pearsonr  </span><br><span class="line">corr, p_value = pearsonr(iris[:, <span class="number">0</span>], iris[:, <span class="number">2</span>])</span><br><span class="line">print(corr)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Correlation coef indicates the degree of linear relationship between two numeric variables.</span></span><br><span class="line"><span class="comment"># It can range between -1 to +1.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The p-value roughly indicates the probability of an uncorrelated system producing </span></span><br><span class="line"><span class="comment"># datasets that have a correlation at least as extreme as the one computed.</span></span><br><span class="line"><span class="comment"># The lower the p-value (&lt;0.01), stronger is the significance of the relationship.</span></span><br><span class="line"><span class="comment"># It is not an indicator of the strength.</span></span><br><span class="line"><span class="comment"># &gt; 0.871754157305</span></span><br></pre></td></tr></table></figure>
<h3><span id="37-ru-he-cha-zhao-gei-ding-shu-zu-shi-fou-ju-you-ren-he-kong-zhi">37. 如何查找给定数组是否具有任何空值？</span><a href="#37-ru-he-cha-zhao-gei-ding-shu-zu-shi-fou-ju-you-ren-he-kong-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>找出iris_2d是否有任何缺失值。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">np.isnan(iris_2d).any()</span><br><span class="line"><span class="comment"># &gt; False</span></span><br></pre></td></tr></table></figure>
<h3><span id="38-ru-he-zai-numpy-shu-zu-zhong-yong-0-ti-huan-suo-you-que-shi-zhi">38. 如何在numpy数组中用0替换所有缺失值？</span><a href="#38-ru-he-zai-numpy-shu-zu-zhong-yong-0-ti-huan-suo-you-que-shi-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>在numpy数组中将所有出现的nan替换为0</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'float'</span>, usecols=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">iris_2d[np.random.randint(<span class="number">150</span>, size=<span class="number">20</span>), np.random.randint(<span class="number">4</span>, size=<span class="number">20</span>)] = np.nan</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">iris_2d[np.isnan(iris_2d)] = <span class="number">0</span></span><br><span class="line">iris_2d[:<span class="number">4</span>]</span><br><span class="line"><span class="comment"># &gt; array([[ 5.1,  3.5,  1.4,  0. ],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.9,  3. ,  1.4,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.7,  3.2,  1.3,  0.2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 4.6,  3.1,  1.5,  0.2]])</span></span><br></pre></td></tr></table></figure>
<h3><span id="39-ru-he-zai-numpy-shu-zu-zhong-cha-zhao-wei-yi-zhi-de-ji-shu">39. 如何在numpy数组中查找唯一值的计数？</span><a href="#39-ru-he-zai-numpy-shu-zu-zhong-cha-zhao-wei-yi-zhi-de-ji-shu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>找出鸢尾属植物物种中的独特值和独特值的数量</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import iris keeping the text column intact</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="comment"># Extract the species column as an array</span></span><br><span class="line">species = np.array([row.tolist()[<span class="number">4</span>] <span class="keyword">for</span> row <span class="keyword">in</span> iris])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the unique values and the counts</span></span><br><span class="line">np.unique(species, return_counts=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># &gt; (array([b'Iris-setosa', b'Iris-versicolor', b'Iris-virginica'],</span></span><br><span class="line"><span class="comment"># &gt;        dtype='|S15'), array([50, 50, 50]))</span></span><br></pre></td></tr></table></figure>
<h3><span id="40-ru-he-jiang-shu-zi-zhuan-huan-wei-fen-lei-wen-ben-shu-zu">40. 如何将数字转换为分类（文本）数组？</span><a href="#40-ru-he-jiang-shu-zi-zhuan-huan-wei-fen-lei-wen-ben-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>将iris_2d的花瓣长度（第3列）加入以形成文本数组，这样如果花瓣长度为：</p>
<ul>
<li>Less than 3 –&gt; ‘small’</li>
<li>3-5 –&gt; ‘medium’</li>
<li>‘&gt;=5 –&gt; ‘large’</li>
</ul>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bin petallength </span></span><br><span class="line">petal_length_bin = np.digitize(iris[:, <span class="number">2</span>].astype(<span class="string">'float'</span>), [<span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Map it to respective category</span></span><br><span class="line">label_map = &#123;<span class="number">1</span>: <span class="string">'small'</span>, <span class="number">2</span>: <span class="string">'medium'</span>, <span class="number">3</span>: <span class="string">'large'</span>, <span class="number">4</span>: np.nan&#125;</span><br><span class="line">petal_length_cat = [label_map[x] <span class="keyword">for</span> x <span class="keyword">in</span> petal_length_bin]</span><br><span class="line"></span><br><span class="line"><span class="comment"># View</span></span><br><span class="line">petal_length_cat[:<span class="number">4</span>]</span><br><span class="line">&lt;<span class="comment"># &gt; ['small', 'small', 'small', 'small']</span></span><br></pre></td></tr></table></figure>
<h3><span id="41-ru-he-cong-numpy-shu-zu-de-xian-you-lie-chuang-jian-xin-lie">41. 如何从numpy数组的现有列创建新列？</span><a href="#41-ru-he-cong-numpy-shu-zu-de-xian-you-lie-chuang-jian-xin-lie" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>在iris_2d中为卷创建一个新列，其中volume是<code>（pi x petallength x sepal_length ^ 2）/ 3</code></p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris_2d = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="comment"># Compute volume</span></span><br><span class="line">sepallength = iris_2d[:, <span class="number">0</span>].astype(<span class="string">'float'</span>)</span><br><span class="line">petallength = iris_2d[:, <span class="number">2</span>].astype(<span class="string">'float'</span>)</span><br><span class="line">volume = (np.pi * petallength * (sepallength**<span class="number">2</span>))/<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Introduce new dimension to match iris_2d's</span></span><br><span class="line">volume = volume[:, np.newaxis]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add the new column</span></span><br><span class="line">out = np.hstack([iris_2d, volume])</span><br><span class="line"></span><br><span class="line"><span class="comment"># View</span></span><br><span class="line">out[:<span class="number">4</span>]</span><br><span class="line"><span class="comment"># &gt; array([[b'5.1', b'3.5', b'1.4', b'0.2', b'Iris-setosa', 38.13265162927291],</span></span><br><span class="line"><span class="comment"># &gt;        [b'4.9', b'3.0', b'1.4', b'0.2', b'Iris-setosa', 35.200498485922445],</span></span><br><span class="line"><span class="comment"># &gt;        [b'4.7', b'3.2', b'1.3', b'0.2', b'Iris-setosa', 30.0723720777127],</span></span><br><span class="line"><span class="comment"># &gt;        [b'4.6', b'3.1', b'1.5', b'0.2', b'Iris-setosa', 33.238050274980004]], dtype=object)</span></span><br></pre></td></tr></table></figure>
<h3><span id="42-ru-he-zai-numpy-zhong-jin-xing-gai-lu-chou-yang">42. 如何在numpy中进行概率抽样？</span><a href="#42-ru-he-zai-numpy-zhong-jin-xing-gai-lu-chou-yang" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>随机抽鸢尾属植物的种类，使得刚毛的数量是云芝和维吉尼亚的两倍</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import iris keeping the text column intact</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import iris keeping the text column intact</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="comment"># Get the species column</span></span><br><span class="line">species = iris[:, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Approach 1: Generate Probablistically</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.array([<span class="string">'Iris-setosa'</span>, <span class="string">'Iris-versicolor'</span>, <span class="string">'Iris-virginica'</span>])</span><br><span class="line">species_out = np.random.choice(a, <span class="number">150</span>, p=[<span class="number">0.5</span>, <span class="number">0.25</span>, <span class="number">0.25</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Approach 2: Probablistic Sampling (preferred)</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">probs = np.r_[np.linspace(<span class="number">0</span>, <span class="number">0.500</span>, num=<span class="number">50</span>), np.linspace(<span class="number">0.501</span>, <span class="number">.750</span>, num=<span class="number">50</span>), np.linspace(<span class="number">.751</span>, <span class="number">1.0</span>, num=<span class="number">50</span>)]</span><br><span class="line">index = np.searchsorted(probs, np.random.random(<span class="number">150</span>))</span><br><span class="line">species_out = species[index]</span><br><span class="line">print(np.unique(species_out, return_counts=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; (array([b'Iris-setosa', b'Iris-versicolor', b'Iris-virginica'], dtype=object), array([77, 37, 36]))</span></span><br></pre></td></tr></table></figure>
<p>方法2是首选方法，因为它创建了一个索引变量，该变量可用于取样2维表格数据。</p>
<h3><span id="43-ru-he-zai-an-ling-yi-ge-shu-zu-fen-zu-shi-huo-qu-shu-zu-de-di-er-da-zhi">43. 如何在按另一个数组分组时获取数组的第二大值？</span><a href="#43-ru-he-zai-an-ling-yi-ge-shu-zu-fen-zu-shi-huo-qu-shu-zu-de-di-er-da-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>第二长的物种setosa的价值是多少</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># Import iris keeping the text column intact</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="comment"># Get the species and petal length columns</span></span><br><span class="line">petal_len_setosa = iris[iris[:, <span class="number">4</span>] == <span class="string">b'Iris-setosa'</span>, [<span class="number">2</span>]].astype(<span class="string">'float'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the second last value</span></span><br><span class="line">np.unique(np.sort(petal_len_setosa))[<span class="number">-2</span>]</span><br><span class="line"><span class="comment"># &gt; 1.7</span></span><br></pre></td></tr></table></figure>
<h3><span id="44-ru-he-an-lie-dui-2d-shu-zu-jin-xing-pai-xu">44. 如何按列对2D数组进行排序</span><a href="#44-ru-he-an-lie-dui-2d-shu-zu-jin-xing-pai-xu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>根据sepallength列对虹膜数据集进行排序。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sort by column position 0: SepalLength</span></span><br><span class="line">print(iris[iris[:,<span class="number">0</span>].argsort()][:<span class="number">20</span>])</span><br><span class="line"><span class="comment"># &gt; [[b'4.3' b'3.0' b'1.1' b'0.1' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.4' b'3.2' b'1.3' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.4' b'3.0' b'1.3' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.4' b'2.9' b'1.4' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.5' b'2.3' b'1.3' b'0.3' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.6' b'3.6' b'1.0' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.6' b'3.1' b'1.5' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.6' b'3.4' b'1.4' b'0.3' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.6' b'3.2' b'1.4' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.7' b'3.2' b'1.3' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.7' b'3.2' b'1.6' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.8' b'3.0' b'1.4' b'0.1' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.8' b'3.0' b'1.4' b'0.3' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.8' b'3.4' b'1.9' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.8' b'3.4' b'1.6' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.8' b'3.1' b'1.6' b'0.2' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.9' b'2.4' b'3.3' b'1.0' b'Iris-versicolor']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.9' b'2.5' b'4.5' b'1.7' b'Iris-virginica']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.9' b'3.1' b'1.5' b'0.1' b'Iris-setosa']</span></span><br><span class="line"><span class="comment"># &gt;  [b'4.9' b'3.1' b'1.5' b'0.1' b'Iris-setosa']]</span></span><br></pre></td></tr></table></figure>
<h3><span id="45-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-zui-chang-jian-de-zhi">45. 如何在numpy数组中找到最常见的值？</span><a href="#45-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-zui-chang-jian-de-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L1</p>
<p><strong>问题：</strong>在鸢尾属植物数据集中找到最常见的花瓣长度值（第3列）。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution:</span></span><br><span class="line">vals, counts = np.unique(iris[:, <span class="number">2</span>], return_counts=<span class="literal">True</span>)</span><br><span class="line">print(vals[np.argmax(counts)])</span><br><span class="line"><span class="comment"># &gt; b'1.5'</span></span><br></pre></td></tr></table></figure>
<h3><span id="46-ru-he-zhao-dao-di-yi-ci-chu-xian-de-zhi-da-yu-gei-ding-zhi-de-wei-zhi">46. 如何找到第一次出现的值大于给定值的位置？</span><a href="#46-ru-he-zhao-dao-di-yi-ci-chu-xian-de-zhi-da-yu-gei-ding-zhi-de-wei-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>在虹膜数据集的petalwidth第4列中查找第一次出现的值大于1.0的位置。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution: (edit: changed argmax to argwhere. Thanks Rong!)</span></span><br><span class="line">np.argwhere(iris[:, <span class="number">3</span>].astype(float) &gt; <span class="number">1.0</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="comment"># &gt; 50</span></span><br></pre></td></tr></table></figure>
<h3><span id="47-ru-he-jiang-da-yu-gei-ding-zhi-de-suo-you-zhi-ti-huan-wei-gei-ding-de-jie-zhi-zhi">47. 如何将大于给定值的所有值替换为给定的截止值？</span><a href="#47-ru-he-jiang-da-yu-gei-ding-zhi-de-suo-you-zhi-ti-huan-wei-gei-ding-de-jie-zhi-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>从数组a中，替换所有大于30到30和小于10到10的值。</p>
<p><strong>给定：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.uniform(<span class="number">1</span>,<span class="number">50</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure></p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">np.set_printoptions(precision=<span class="number">2</span>)</span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.uniform(<span class="number">1</span>,<span class="number">50</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 1: Using np.clip</span></span><br><span class="line">np.clip(a, a_min=<span class="number">10</span>, a_max=<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 2: Using np.where</span></span><br><span class="line">print(np.where(a &lt; <span class="number">10</span>, <span class="number">10</span>, np.where(a &gt; <span class="number">30</span>, <span class="number">30</span>, a)))</span><br><span class="line"><span class="comment"># &gt; [ 27.63  14.64  21.8   30.    10.    10.    30.    30.    10.    29.18  30.</span></span><br><span class="line"><span class="comment"># &gt;   11.25  10.08  10.    11.77  30.    30.    10.    30.    14.43]</span></span><br></pre></td></tr></table></figure>
<h3><span id="48-ru-he-cong-numpy-shu-zu-zhong-huo-qu-zui-da-n-zhi-de-wei-zhi">48. 如何从numpy数组中获取最大n值的位置？</span><a href="#48-ru-he-cong-numpy-shu-zu-zhong-huo-qu-zui-da-n-zhi-de-wei-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>获取给定数组a中前5个最大值的位置。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.uniform(<span class="number">1</span>,<span class="number">50</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.uniform(<span class="number">1</span>,<span class="number">50</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution:</span></span><br><span class="line">print(a.argsort())</span><br><span class="line"><span class="comment"># &gt; [18 7 3 10 15]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 2:</span></span><br><span class="line">np.argpartition(-a, <span class="number">5</span>)[:<span class="number">5</span>]</span><br><span class="line"><span class="comment"># &gt; [15 10  3  7 18]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Below methods will get you the values.</span></span><br><span class="line"><span class="comment"># Method 1:</span></span><br><span class="line">a[a.argsort()][<span class="number">-5</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2:</span></span><br><span class="line">np.sort(a)[<span class="number">-5</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 3:</span></span><br><span class="line">np.partition(a, kth=<span class="number">-5</span>)[<span class="number">-5</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 4:</span></span><br><span class="line">a[np.argpartition(-a, <span class="number">5</span>)][:<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<h3><span id="49-ru-he-ji-suan-shu-zu-zhong-suo-you-ke-neng-zhi-de-xing-shu">49. 如何计算数组中所有可能值的行数？</span><a href="#49-ru-he-ji-suan-shu-zu-zhong-suo-you-ke-neng-zhi-de-xing-shu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L4</p>
<p><strong>问题：</strong>按行计算唯一值的计数。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">arr = np.random.randint(<span class="number">1</span>,<span class="number">11</span>,size=(<span class="number">6</span>, <span class="number">10</span>))</span><br><span class="line">arr</span><br><span class="line">&gt; array([[ <span class="number">9</span>,  <span class="number">9</span>,  <span class="number">4</span>,  <span class="number">8</span>,  <span class="number">8</span>,  <span class="number">1</span>,  <span class="number">5</span>,  <span class="number">3</span>,  <span class="number">6</span>,  <span class="number">3</span>],</span><br><span class="line">&gt;        [ <span class="number">3</span>,  <span class="number">3</span>,  <span class="number">2</span>,  <span class="number">1</span>,  <span class="number">9</span>,  <span class="number">5</span>,  <span class="number">1</span>, <span class="number">10</span>,  <span class="number">7</span>,  <span class="number">3</span>],</span><br><span class="line">&gt;        [ <span class="number">5</span>,  <span class="number">2</span>,  <span class="number">6</span>,  <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">5</span>,  <span class="number">4</span>,  <span class="number">8</span>,  <span class="number">2</span>,  <span class="number">2</span>],</span><br><span class="line">&gt;        [ <span class="number">8</span>,  <span class="number">8</span>,  <span class="number">1</span>,  <span class="number">3</span>, <span class="number">10</span>, <span class="number">10</span>,  <span class="number">4</span>,  <span class="number">3</span>,  <span class="number">6</span>,  <span class="number">9</span>],</span><br><span class="line">&gt;        [ <span class="number">2</span>,  <span class="number">1</span>,  <span class="number">8</span>,  <span class="number">7</span>,  <span class="number">3</span>,  <span class="number">1</span>,  <span class="number">9</span>,  <span class="number">3</span>,  <span class="number">6</span>,  <span class="number">2</span>],</span><br><span class="line">&gt;        [ <span class="number">9</span>,  <span class="number">2</span>,  <span class="number">6</span>,  <span class="number">5</span>,  <span class="number">3</span>,  <span class="number">9</span>,  <span class="number">4</span>,  <span class="number">6</span>,  <span class="number">1</span>, <span class="number">10</span>]])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; [[<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line">&gt;  [<span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">&gt;  [<span class="number">0</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">&gt;  [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">&gt;  [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">&gt;  [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>
<p>输出包含10列，表示从1到10的数字。这些值是各行中数字的计数。<br>例如，cell(0，2)的值为2，这意味着数字3在第一行中恰好出现了2次。</p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">arr = np.random.randint(<span class="number">1</span>,<span class="number">11</span>,size=(<span class="number">6</span>, <span class="number">10</span>))</span><br><span class="line">arr</span><br><span class="line"><span class="comment"># &gt; array([[ 9,  9,  4,  8,  8,  1,  5,  3,  6,  3],</span></span><br><span class="line"><span class="comment"># &gt;        [ 3,  3,  2,  1,  9,  5,  1, 10,  7,  3],</span></span><br><span class="line"><span class="comment"># &gt;        [ 5,  2,  6,  4,  5,  5,  4,  8,  2,  2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 8,  8,  1,  3, 10, 10,  4,  3,  6,  9],</span></span><br><span class="line"><span class="comment"># &gt;        [ 2,  1,  8,  7,  3,  1,  9,  3,  6,  2],</span></span><br><span class="line"><span class="comment"># &gt;        [ 9,  2,  6,  5,  3,  9,  4,  6,  1, 10]])</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">counts_of_all_values_rowwise</span><span class="params">(arr2d)</span>:</span></span><br><span class="line">    <span class="comment"># Unique values and its counts row wise</span></span><br><span class="line">    num_counts_array = [np.unique(row, return_counts=<span class="literal">True</span>) <span class="keyword">for</span> row <span class="keyword">in</span> arr2d]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Counts of all values row wise</span></span><br><span class="line">    <span class="keyword">return</span>([[int(b[a==i]) <span class="keyword">if</span> i <span class="keyword">in</span> a <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> np.unique(arr2d)] <span class="keyword">for</span> a, b <span class="keyword">in</span> num_counts_array])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Print</span></span><br><span class="line">print(np.arange(<span class="number">1</span>,<span class="number">11</span>))</span><br><span class="line">counts_of_all_values_rowwise(arr)</span><br><span class="line"><span class="comment"># &gt; [ 1  2  3  4  5  6  7  8  9 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; [[1, 0, 2, 1, 1, 1, 0, 2, 2, 0],</span></span><br><span class="line"><span class="comment"># &gt;  [2, 1, 3, 0, 1, 0, 1, 0, 1, 1],</span></span><br><span class="line"><span class="comment"># &gt;  [0, 3, 0, 2, 3, 1, 0, 1, 0, 0],</span></span><br><span class="line"><span class="comment"># &gt;  [1, 0, 2, 1, 0, 1, 0, 2, 1, 2],</span></span><br><span class="line"><span class="comment"># &gt;  [2, 2, 2, 0, 0, 1, 1, 1, 1, 0],</span></span><br><span class="line"><span class="comment"># &gt;  [1, 1, 1, 1, 1, 2, 0, 0, 2, 1]]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Example 2:</span></span><br><span class="line">arr = np.array([np.array(list(<span class="string">'bill clinton'</span>)), np.array(list(<span class="string">'narendramodi'</span>)), np.array(list(<span class="string">'jjayalalitha'</span>))])</span><br><span class="line">print(np.unique(arr))</span><br><span class="line">counts_of_all_values_rowwise(arr)</span><br><span class="line"><span class="comment"># &gt; [' ' 'a' 'b' 'c' 'd' 'e' 'h' 'i' 'j' 'l' 'm' 'n' 'o' 'r' 't' 'y']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; [[1, 0, 1, 1, 0, 0, 0, 2, 0, 3, 0, 2, 1, 0, 1, 0],</span></span><br><span class="line"><span class="comment"># &gt;  [0, 2, 0, 0, 2, 1, 0, 1, 0, 0, 1, 2, 1, 2, 0, 0],</span></span><br><span class="line"><span class="comment"># &gt;  [0, 4, 0, 0, 0, 0, 1, 1, 2, 2, 0, 0, 0, 0, 1, 1]]</span></span><br></pre></td></tr></table></figure>
<h3><span id="50-ru-he-jiang-shu-zu-zhuan-huan-wei-ping-mian-yi-wei-shu-zu">50. 如何将数组转换为平面一维数组？</span><a href="#50-ru-he-jiang-shu-zu-zhuan-huan-wei-ping-mian-yi-wei-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>将array_of_arrays转换为扁平线性1d数组。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">arr1 = np.arange(<span class="number">3</span>)</span><br><span class="line">arr2 = np.arange(<span class="number">3</span>,<span class="number">7</span>)</span><br><span class="line">arr3 = np.arange(<span class="number">7</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">array_of_arrays = np.array([arr1, arr2, arr3])</span><br><span class="line">array_of_arrays</span><br><span class="line"><span class="comment"># &gt; array([array([0, 1, 2]), array([3, 4, 5, 6]), array([7, 8, 9])], dtype=object)</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># **给定：**</span></span><br><span class="line">arr1 = np.arange(<span class="number">3</span>)</span><br><span class="line">arr2 = np.arange(<span class="number">3</span>,<span class="number">7</span>)</span><br><span class="line">arr3 = np.arange(<span class="number">7</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">array_of_arrays = np.array([arr1, arr2, arr3])</span><br><span class="line">print(<span class="string">'array_of_arrays: '</span>, array_of_arrays)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 1</span></span><br><span class="line">arr_2d = np.array([a <span class="keyword">for</span> arr <span class="keyword">in</span> array_of_arrays <span class="keyword">for</span> a <span class="keyword">in</span> arr])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 2:</span></span><br><span class="line">arr_2d = np.concatenate(array_of_arrays)</span><br><span class="line">print(arr_2d)</span><br><span class="line"><span class="comment"># &gt; array_of_arrays:  [array([0, 1, 2]) array([3, 4, 5, 6]) array([7, 8, 9])]</span></span><br><span class="line"><span class="comment"># &gt; [0 1 2 3 4 5 6 7 8 9]</span></span><br></pre></td></tr></table></figure>
<h3><span id="51-ru-he-zai-numpy-zhong-wei-shu-zu-sheng-cheng-dan-re-bian-ma">51. 如何在numpy中为数组生成单热编码？</span><a href="#51-ru-he-zai-numpy-zhong-wei-shu-zu-sheng-cheng-dan-re-bian-ma" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L4</p>
<p><strong>问题：</strong>计算一次性编码(数组中每个唯一值的虚拟二进制变量)</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">101</span>) </span><br><span class="line">arr = np.random.randint(<span class="number">1</span>,<span class="number">4</span>, size=<span class="number">6</span>)</span><br><span class="line">arr</span><br><span class="line"><span class="comment"># &gt; array([2, 3, 2, 2, 2, 1])</span></span><br></pre></td></tr></table></figure>
<p><strong>期望输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([[ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  0.,  1.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 1.,  0.,  0.]])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">np.random.seed(<span class="number">101</span>) </span><br><span class="line">arr = np.random.randint(<span class="number">1</span>,<span class="number">4</span>, size=<span class="number">6</span>)</span><br><span class="line">arr</span><br><span class="line"><span class="comment"># &gt; array([2, 3, 2, 2, 2, 1])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">one_hot_encodings</span><span class="params">(arr)</span>:</span></span><br><span class="line">    uniqs = np.unique(arr)</span><br><span class="line">    out = np.zeros((arr.shape[<span class="number">0</span>], uniqs.shape[<span class="number">0</span>]))</span><br><span class="line">    <span class="keyword">for</span> i, k <span class="keyword">in</span> enumerate(arr):</span><br><span class="line">        out[i, k<span class="number">-1</span>] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line"></span><br><span class="line">one_hot_encodings(arr)</span><br><span class="line"><span class="comment"># &gt; array([[ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  0.,  1.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 0.,  1.,  0.],</span></span><br><span class="line"><span class="comment"># &gt;        [ 1.,  0.,  0.]])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2:</span></span><br><span class="line">(arr[:, <span class="literal">None</span>] == np.unique(arr)).view(np.int8)</span><br></pre></td></tr></table></figure>
<h3><span id="52-ru-he-chuang-jian-an-fen-lei-bian-liang-fen-zu-de-xing-hao">52. 如何创建按分类变量分组的行号？</span><a href="#52-ru-he-chuang-jian-an-fen-lei-bian-liang-fen-zu-de-xing-hao" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>创建按分类变量分组的行号。使用以下来自鸢尾属植物物种的样本作为输入。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">species = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'str'</span>, usecols=<span class="number">4</span>)</span><br><span class="line">species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line">species_small</span><br><span class="line"><span class="comment"># &gt; array(['Iris-setosa', 'Iris-setosa', 'Iris-setosa', 'Iris-setosa',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-setosa', 'Iris-setosa', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica', 'Iris-virginica', 'Iris-virginica'],</span></span><br><span class="line"><span class="comment"># &gt;       dtype='&lt;U15')</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; [0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 0, 1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">species = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'str'</span>, usecols=<span class="number">4</span>)</span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line">species_small</span><br><span class="line"><span class="comment"># &gt; array(['Iris-setosa', 'Iris-setosa', 'Iris-setosa', 'Iris-setosa',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-setosa', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica'],</span></span><br><span class="line"><span class="comment"># &gt;       dtype='&lt;U15')</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print([i <span class="keyword">for</span> val <span class="keyword">in</span> np.unique(species_small) <span class="keyword">for</span> i, grp <span class="keyword">in</span> enumerate(species_small[species_small==val])])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<h3><span id="53-ru-he-gen-ju-gei-ding-de-fen-lei-bian-liang-chuang-jian-zu-id">53. 如何根据给定的分类变量创建组ID？</span><a href="#53-ru-he-gen-ju-gei-ding-de-fen-lei-bian-liang-chuang-jian-zu-id" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L4</p>
<p><strong>问题：</strong>根据给定的分类变量创建组ID。使用以下来自鸢尾属植物物种的样本作为输入。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">species = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'str'</span>, usecols=<span class="number">4</span>)</span><br><span class="line">species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line">species_small</span><br><span class="line"><span class="comment"># &gt; array(['Iris-setosa', 'Iris-setosa', 'Iris-setosa', 'Iris-setosa',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-setosa', 'Iris-setosa', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica', 'Iris-virginica', 'Iris-virginica'],</span></span><br><span class="line"><span class="comment"># &gt;       dtype='&lt;U15')</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2]</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">species = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'str'</span>, usecols=<span class="number">4</span>)</span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">species_small = np.sort(np.random.choice(species, size=<span class="number">20</span>))</span><br><span class="line">species_small</span><br><span class="line"><span class="comment"># &gt; array(['Iris-setosa', 'Iris-setosa', 'Iris-setosa', 'Iris-setosa',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-setosa', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-versicolor', 'Iris-versicolor',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-versicolor', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica', 'Iris-virginica', 'Iris-virginica',</span></span><br><span class="line"><span class="comment"># &gt;        'Iris-virginica'],</span></span><br><span class="line"><span class="comment"># &gt;       dtype='&lt;U15')</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Solution:</span></span><br><span class="line">output = [np.argwhere(np.unique(species_small) == s).tolist()[<span class="number">0</span>][<span class="number">0</span>] <span class="keyword">for</span> val <span class="keyword">in</span> np.unique(species_small) <span class="keyword">for</span> s <span class="keyword">in</span> species_small[species_small==val]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution: For Loop version</span></span><br><span class="line">output = []</span><br><span class="line">uniqs = np.unique(species_small)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> uniqs:  <span class="comment"># uniq values in group</span></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> species_small[species_small==val]:  <span class="comment"># each element in group</span></span><br><span class="line">        groupid = np.argwhere(uniqs == s).tolist()[<span class="number">0</span>][<span class="number">0</span>]  <span class="comment"># groupid</span></span><br><span class="line">        output.append(groupid)</span><br><span class="line"></span><br><span class="line">print(output)</span><br><span class="line"><span class="comment"># &gt; [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2]</span></span><br></pre></td></tr></table></figure>
<h3><span id="54-ru-he-shi-yong-numpy-dui-shu-zu-zhong-de-xiang-jin-xing-pai-ming">54. 如何使用numpy对数组中的项进行排名？</span><a href="#54-ru-he-shi-yong-numpy-dui-shu-zu-zhong-de-xiang-jin-xing-pai-ming" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>为给定的数字数组a创建排名。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">a = np.random.randint(<span class="number">20</span>, size=<span class="number">10</span>)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># &gt; [ 9  4 15  0 17 16 17  8  9  0]</span></span><br></pre></td></tr></table></figure>
<p><strong>期望输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">4</span> <span class="number">2</span> <span class="number">6</span> <span class="number">0</span> <span class="number">8</span> <span class="number">7</span> <span class="number">9</span> <span class="number">3</span> <span class="number">5</span> <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">a = np.random.randint(<span class="number">20</span>, size=<span class="number">10</span>)</span><br><span class="line">print(<span class="string">'Array: '</span>, a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">print(a.argsort().argsort())</span><br><span class="line">print(<span class="string">'Array: '</span>, a)</span><br><span class="line"><span class="comment"># &gt; Array:  [ 9  4 15  0 17 16 17  8  9  0]</span></span><br><span class="line"><span class="comment"># &gt; [4 2 6 0 8 7 9 3 5 1]</span></span><br><span class="line"><span class="comment"># &gt; Array:  [ 9  4 15  0 17 16 17  8  9  0]</span></span><br></pre></td></tr></table></figure>
<h3><span id="55-ru-he-shi-yong-numpy-dui-duo-wei-shu-zu-zhong-de-xiang-jin-xing-pai-ming">55. 如何使用numpy对多维数组中的项进行排名？</span><a href="#55-ru-he-shi-yong-numpy-dui-duo-wei-shu-zu-zhong-de-xiang-jin-xing-pai-ming" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>创建与给定数字数组a相同形状的排名数组。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">a = np.random.randint(<span class="number">20</span>, size=[<span class="number">2</span>,<span class="number">5</span>])</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># &gt; [[ 9  4 15  0 17]</span></span><br><span class="line"><span class="comment"># &gt;  [16 17  8  9  0]]</span></span><br></pre></td></tr></table></figure>
<p><strong>期望输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; [[4 2 6 0 8]</span></span><br><span class="line"><span class="comment"># &gt;  [7 9 3 5 1]]</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：**</span></span><br><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">a = np.random.randint(<span class="number">20</span>, size=[<span class="number">2</span>,<span class="number">5</span>])</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">print(a.ravel().argsort().argsort().reshape(a.shape))</span><br><span class="line"><span class="comment"># &gt; [[ 9  4 15  0 17]</span></span><br><span class="line"><span class="comment"># &gt;  [16 17  8  9  0]]</span></span><br><span class="line"><span class="comment"># &gt; [[4 2 6 0 8]</span></span><br><span class="line"><span class="comment"># &gt;  [7 9 3 5 1]]</span></span><br></pre></td></tr></table></figure>
<h3><span id="56-ru-he-zai-er-wei-numpy-shu-zu-de-mei-yi-xing-zhong-zhao-dao-zui-da-zhi">56. 如何在二维numpy数组的每一行中找到最大值？</span><a href="#56-ru-he-zai-er-wei-numpy-shu-zu-de-mei-yi-xing-zhong-zhao-dao-zui-da-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>计算给定数组中每行的最大值。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">1</span>,<span class="number">10</span>, [<span class="number">5</span>,<span class="number">3</span>])</span><br><span class="line">a</span><br><span class="line"><span class="comment"># &gt; array([[9, 9, 4],</span></span><br><span class="line"><span class="comment"># &gt;        [8, 8, 1],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 3, 6],</span></span><br><span class="line"><span class="comment"># &gt;        [3, 3, 3],</span></span><br><span class="line"><span class="comment"># &gt;        [2, 1, 9]])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">1</span>,<span class="number">10</span>, [<span class="number">5</span>,<span class="number">3</span>])</span><br><span class="line">a</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 1</span></span><br><span class="line">np.amax(a, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 2</span></span><br><span class="line">np.apply_along_axis(np.max, arr=a, axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># &gt; array([9, 8, 6, 3, 9])</span></span><br></pre></td></tr></table></figure>
<h3><span id="57-ru-he-ji-suan-er-wei-numpy-shu-zu-mei-xing-de-zui-xiao-zhi">57. 如何计算二维numpy数组每行的最小值？</span><a href="#57-ru-he-ji-suan-er-wei-numpy-shu-zu-mei-xing-de-zui-xiao-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>为给定的二维numpy数组计算每行的最小值。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">1</span>,<span class="number">10</span>, [<span class="number">5</span>,<span class="number">3</span>])</span><br><span class="line">a</span><br><span class="line"><span class="comment"># &gt; array([[9, 9, 4],</span></span><br><span class="line"><span class="comment"># &gt;        [8, 8, 1],</span></span><br><span class="line"><span class="comment"># &gt;        [5, 3, 6],</span></span><br><span class="line"><span class="comment"># &gt;        [3, 3, 3],</span></span><br><span class="line"><span class="comment"># &gt;        [2, 1, 9]])</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">1</span>,<span class="number">10</span>, [<span class="number">5</span>,<span class="number">3</span>])</span><br><span class="line">a</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">np.apply_along_axis(<span class="keyword">lambda</span> x: np.min(x)/np.max(x), arr=a, axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># &gt; array([ 0.44444444,  0.125     ,  0.5       ,  1.        ,  0.11111111])</span></span><br></pre></td></tr></table></figure>
<h3><span id="58-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-chong-fu-de-ji-lu">58. 如何在numpy数组中找到重复的记录？</span><a href="#58-ru-he-zai-numpy-shu-zu-zhong-zhao-dao-chong-fu-de-ji-lu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>在给定的numpy数组中找到重复的条目(第二次出现以后)，并将它们标记为True。第一次出现应该是False的。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">print(<span class="string">'Array: '</span>, a)</span><br><span class="line"><span class="comment"># &gt; Array: [0 0 3 0 2 4 2 2 2 2]</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; [False  True False  True False False  True  True  True  True]</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">a = np.random.randint(<span class="number">0</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Solution</span></span><br><span class="line"><span class="comment"># There is no direct function to do this as of 1.13.3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create an all True array</span></span><br><span class="line">out = np.full(a.shape[<span class="number">0</span>], <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Find the index positions of unique elements</span></span><br><span class="line">unique_positions = np.unique(a, return_index=<span class="literal">True</span>)[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mark those positions as False</span></span><br><span class="line">out[unique_positions] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">print(out)</span><br><span class="line"><span class="comment"># &gt; [False  True False  True False False  True  True  True  True]</span></span><br></pre></td></tr></table></figure>
<h3><span id="59-ru-he-zhao-chu-shu-zi-de-fen-zu-jun-zhi">59. 如何找出数字的分组均值？</span><a href="#59-ru-he-zhao-chu-shu-zi-de-fen-zu-jun-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>在二维数字数组中查找按分类列分组的数值列的平均值</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>理想的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; [[b'Iris-setosa', 3.418],</span></span><br><span class="line"><span class="comment"># &gt;  [b'Iris-versicolor', 2.770],</span></span><br><span class="line"><span class="comment"># &gt;  [b'Iris-virginica', 2.974]]</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">url = <span class="string">'https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data'</span></span><br><span class="line">iris = np.genfromtxt(url, delimiter=<span class="string">','</span>, dtype=<span class="string">'object'</span>)</span><br><span class="line">names = (<span class="string">'sepallength'</span>, <span class="string">'sepalwidth'</span>, <span class="string">'petallength'</span>, <span class="string">'petalwidth'</span>, <span class="string">'species'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="comment"># No direct way to implement this. Just a version of a workaround.</span></span><br><span class="line">numeric_column = iris[:, <span class="number">1</span>].astype(<span class="string">'float'</span>)  <span class="comment"># sepalwidth</span></span><br><span class="line">grouping_column = iris[:, <span class="number">4</span>]  <span class="comment"># species</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List comprehension version</span></span><br><span class="line">[[group_val, numeric_column[grouping_column==group_val].mean()] <span class="keyword">for</span> group_val <span class="keyword">in</span> np.unique(grouping_column)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># For Loop version</span></span><br><span class="line">output = []</span><br><span class="line"><span class="keyword">for</span> group_val <span class="keyword">in</span> np.unique(grouping_column):</span><br><span class="line">    output.append([group_val, numeric_column[grouping_column==group_val].mean()])</span><br><span class="line"></span><br><span class="line">output</span><br><span class="line"><span class="comment"># &gt; [[b'Iris-setosa', 3.418],</span></span><br><span class="line"><span class="comment"># &gt;  [b'Iris-versicolor', 2.770],</span></span><br><span class="line"><span class="comment"># &gt;  [b'Iris-virginica', 2.974]]</span></span><br></pre></td></tr></table></figure>
<h3><span id="60-ru-he-jiang-pil-tu-xiang-zhuan-huan-wei-numpy-shu-zu">60. 如何将PIL图像转换为numpy数组？</span><a href="#60-ru-he-jiang-pil-tu-xiang-zhuan-huan-wei-numpy-shu-zu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>从以下URL导入图像并将其转换为numpy数组。</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">URL</span> = <span class="string">'https://upload.wikimedia.org/wikipedia/commons/8/8b/Denali_Mt_McKinley.jpg'</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> PIL, requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># Import image from URL</span></span><br><span class="line">URL = <span class="string">'https://upload.wikimedia.org/wikipedia/commons/8/8b/Denali_Mt_McKinley.jpg'</span></span><br><span class="line">response = requests.get(URL)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Read it as Image</span></span><br><span class="line">I = Image.open(BytesIO(response.content))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Optionally resize</span></span><br><span class="line">I = I.resize([<span class="number">150</span>,<span class="number">150</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Convert to numpy array</span></span><br><span class="line">arr = np.asarray(I)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Optionaly Convert it back to an image and show</span></span><br><span class="line">im = PIL.Image.fromarray(np.uint8(arr))</span><br><span class="line">Image.Image.show(im)</span><br></pre></td></tr></table></figure>
<h3><span id="61-ru-he-shan-chu-numpy-shu-zu-zhong-suo-you-que-shao-de-zhi">61. 如何删除numpy数组中所有缺少的值？</span><a href="#61-ru-he-shan-chu-numpy-shu-zu-zhong-suo-you-que-shao-de-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>从一维numpy数组中删除所有NaN值</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,np.nan,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,np.nan])</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,np.nan,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,np.nan])</span><br><span class="line">a[~np.isnan(a)]</span><br><span class="line"><span class="comment"># &gt; array([ 1.,  2.,  3.,  5.,  6.,  7.])</span></span><br></pre></td></tr></table></figure>
<h3><span id="62-ru-he-ji-suan-liang-ge-shu-zu-zhi-jian-de-ou-shi-ju-chi">62. 如何计算两个数组之间的欧氏距离？</span><a href="#62-ru-he-ji-suan-liang-ge-shu-zu-zhi-jian-de-ou-shi-ju-chi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>计算两个数组a和数组b之间的欧氏距离。</p>
<p><strong>给定：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>])</span><br></pre></td></tr></table></figure></p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">dist = np.linalg.norm(a-b)</span><br><span class="line">dist</span><br><span class="line"><span class="comment"># &gt; 6.7082039324993694</span></span><br></pre></td></tr></table></figure>
<h3><span id="63-ru-he-zai-yi-wei-shu-zu-zhong-zhao-dao-suo-you-de-ju-bu-ji-da-zhi-huo-feng-zhi">63. 如何在一维数组中找到所有的局部极大值(或峰值)？</span><a href="#63-ru-he-zai-yi-wei-shu-zu-zhong-zhao-dao-suo-you-de-ju-bu-ji-da-zhi-huo-feng-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L4</p>
<p><strong>问题：</strong>找到一个一维数字数组a中的所有峰值。峰顶是两边被较小数值包围的点。</p>
<p><strong>给定：</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure></p>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; array([2, 5])</span></span><br></pre></td></tr></table></figure>
<p>其中，2和5是峰值7和6的位置。</p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">doublediff = np.diff(np.sign(np.diff(a)))</span><br><span class="line">peak_locations = np.where(doublediff == <span class="number">-2</span>)[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line">peak_locations</span><br><span class="line"><span class="comment"># &gt; array([2, 5])</span></span><br></pre></td></tr></table></figure>
<h3><span id="64-ru-he-cong-er-wei-shu-zu-zhong-jian-qu-yi-wei-shu-zu-qi-zhong-yi-wei-shu-zu-de-mei-yi-xiang-cong-ge-zi-de-xing-zhong-jian-qu">64. 如何从二维数组中减去一维数组，其中一维数组的每一项从各自的行中减去？</span><a href="#64-ru-he-cong-er-wei-shu-zu-zhong-jian-qu-yi-wei-shu-zu-qi-zhong-yi-wei-shu-zu-de-mei-yi-xiang-cong-ge-zi-de-xing-zhong-jian-qu" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>从2d数组a_2d中减去一维数组b_1D，使得b_1D的每一项从a_2d的相应行中减去。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a_2d = np.array([[<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]])</span><br><span class="line">b_1d = np.array([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; [[2 2 2]</span></span><br><span class="line"><span class="comment"># &gt;  [2 2 2]</span></span><br><span class="line"><span class="comment"># &gt;  [2 2 2]]</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">a_2d = np.array([[<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]])</span><br><span class="line">b_1d = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line">print(a_2d - b_1d[:,<span class="literal">None</span>])</span><br><span class="line"><span class="comment"># &gt; [[2 2 2]</span></span><br><span class="line"><span class="comment"># &gt;  [2 2 2]</span></span><br><span class="line"><span class="comment"># &gt;  [2 2 2]]</span></span><br></pre></td></tr></table></figure>
<h3><span id="65-ru-he-cha-zhao-shu-zu-zhong-xiang-de-di-n-ci-chong-fu-suo-yin">65. 如何查找数组中项的第n次重复索引？</span><a href="#65-ru-he-cha-zhao-shu-zu-zhong-xiang-de-di-n-ci-chong-fu-suo-yin" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>找出x中数字1的第5次重复的索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">n = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 1: List comprehension</span></span><br><span class="line">[i <span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate(x) <span class="keyword">if</span> v == <span class="number">1</span>][n<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution 2: Numpy version</span></span><br><span class="line">np.where(x == <span class="number">1</span>)[<span class="number">0</span>][n<span class="number">-1</span>]</span><br><span class="line"><span class="comment"># &gt; 8</span></span><br></pre></td></tr></table></figure>
<h3><span id="66-ru-he-jiang-numpy-de-datetime-64-dui-xiang-zhuan-huan-wei-datetime-de-datetime-dui-xiang">66. 如何将numpy的datetime 64对象转换为datetime的datetime对象？</span><a href="#66-ru-he-jiang-numpy-de-datetime-64-dui-xiang-zhuan-huan-wei-datetime-de-datetime-dui-xiang" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>将numpy的<code>datetime64</code>对象转换为datetime的datetime对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：** a numpy datetime64 object</span></span><br><span class="line">dt64 = np.datetime64(<span class="string">'2018-02-25 22:10:10'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># **给定：** a numpy datetime64 object</span></span><br><span class="line">dt64 = np.datetime64(<span class="string">'2018-02-25 22:10:10'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">dt64.tolist()</span><br><span class="line"></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"></span><br><span class="line">dt64.astype(datetime)</span><br><span class="line"><span class="comment"># &gt; datetime.datetime(2018, 2, 25, 22, 10, 10)</span></span><br></pre></td></tr></table></figure>
<h3><span id="67-ru-he-ji-suan-numpy-shu-zu-de-yi-dong-ping-jun-zhi">67. 如何计算numpy数组的移动平均值？</span><a href="#67-ru-he-ji-suan-numpy-shu-zu-de-yi-dong-ping-jun-zhi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>对于给定的一维数组，计算窗口大小为3的移动平均值。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">Z = np.random.randint(<span class="number">10</span>, size=<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Solution</span></span><br><span class="line"><span class="comment"># Source: https://stackoverflow.com/questions/14313510/how-to-calculate-moving-average-using-numpy</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moving_average</span><span class="params">(a, n=<span class="number">3</span>)</span> :</span></span><br><span class="line">    ret = np.cumsum(a, dtype=float)</span><br><span class="line">    ret[n:] = ret[n:] - ret[:-n]</span><br><span class="line">    <span class="keyword">return</span> ret[n - <span class="number">1</span>:] / n</span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">100</span>)</span><br><span class="line">Z = np.random.randint(<span class="number">10</span>, size=<span class="number">10</span>)</span><br><span class="line">print(<span class="string">'array: '</span>, Z)</span><br><span class="line"><span class="comment"># Method 1</span></span><br><span class="line">moving_average(Z, n=<span class="number">3</span>).round(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Method 2:  # Thanks AlanLRH!</span></span><br><span class="line"><span class="comment"># np.ones(3)/3 gives equal weights. Use np.ones(4)/4 for window size 4.</span></span><br><span class="line">np.convolve(Z, np.ones(<span class="number">3</span>)/<span class="number">3</span>, mode=<span class="string">'valid'</span>) . </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; array:  [8 8 3 7 7 0 4 2 5 2]</span></span><br><span class="line"><span class="comment"># &gt; moving average:  [ 6.33  6.    5.67  4.67  3.67  2.    3.67  3.  ]</span></span><br></pre></td></tr></table></figure>
<h3><span id="68-ru-he-zai-gei-ding-qi-shi-dian-chang-du-he-bu-zou-de-qing-kuang-xia-chuang-jian-yi-ge-numpy-shu-zu-xu-lie">68. 如何在给定起始点、长度和步骤的情况下创建一个numpy数组序列？</span><a href="#68-ru-he-zai-gei-ding-qi-shi-dian-chang-du-he-bu-zou-de-qing-kuang-xia-chuang-jian-yi-ge-numpy-shu-zu-xu-lie" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L2</p>
<p><strong>问题：</strong>创建长度为10的numpy数组，从5开始，在连续的数字之间的步长为3。</p>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">length = <span class="number">10</span></span><br><span class="line">start = <span class="number">5</span></span><br><span class="line">step = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">seq</span><span class="params">(start, length, step)</span>:</span></span><br><span class="line">    end = start + (step*length)</span><br><span class="line">    <span class="keyword">return</span> np.arange(start, end, step)</span><br><span class="line"></span><br><span class="line">seq(start, length, step)</span><br><span class="line"><span class="comment"># &gt; array([ 5,  8, 11, 14, 17, 20, 23, 26, 29, 32])</span></span><br></pre></td></tr></table></figure>
<h3><span id="69-ru-he-tian-xie-bu-gui-ze-xi-lie-de-numpy-ri-qi-zhong-de-que-shi-ri-qi">69. 如何填写不规则系列的numpy日期中的缺失日期？</span><a href="#69-ru-he-tian-xie-bu-gui-ze-xi-lie-de-numpy-ri-qi-zhong-de-que-shi-ri-qi" class="header-anchor">#</a></h3><p><strong>难度等级：</strong>L3</p>
<p><strong>问题：</strong>给定一系列不连续的日期序列。填写缺失的日期，使其成为连续的日期序列。</p>
<p><strong>给定：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">dates = np.arange(np.datetime64(<span class="string">'2018-02-01'</span>), np.datetime64(<span class="string">'2018-02-25'</span>), <span class="number">2</span>)</span><br><span class="line">print(dates)</span><br><span class="line"><span class="comment"># &gt; ['2018-02-01' '2018-02-03' '2018-02-05' '2018-02-07' '2018-02-09'</span></span><br><span class="line"><span class="comment"># &gt;  '2018-02-11' '2018-02-13' '2018-02-15' '2018-02-17' '2018-02-19'</span></span><br><span class="line"><span class="comment"># &gt;  '2018-02-21' '2018-02-23']</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Input</span></span><br><span class="line">dates = np.arange(np.datetime64(<span class="string">'2018-02-01'</span>), np.datetime64(<span class="string">'2018-02-25'</span>), <span class="number">2</span>)</span><br><span class="line">print(dates)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Solution ---------------</span></span><br><span class="line">filled_in = np.array([np.arange(date, (date+d)) <span class="keyword">for</span> date, d <span class="keyword">in</span> zip(dates, np.diff(dates))]).reshape(<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add the last day</span></span><br><span class="line">output = np.hstack([filled_in, dates[<span class="number">-1</span>]])</span><br><span class="line">output</span><br><span class="line"></span><br><span class="line"><span class="comment"># For loop version -------</span></span><br><span class="line">out = []</span><br><span class="line"><span class="keyword">for</span> date, d <span class="keyword">in</span> zip(dates, np.diff(dates)):</span><br><span class="line">    out.append(np.arange(date, (date+d)))</span><br><span class="line"></span><br><span class="line">filled_in = np.array(out).reshape(<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add the last day</span></span><br><span class="line">output = np.hstack([filled_in, dates[<span class="number">-1</span>]])</span><br><span class="line">output</span><br><span class="line"><span class="comment"># &gt; ['2018-02-01' '2018-02-03' '2018-02-05' '2018-02-07' '2018-02-09'</span></span><br><span class="line"><span class="comment"># &gt;  '2018-02-11' '2018-02-13' '2018-02-15' '2018-02-17' '2018-02-19'</span></span><br><span class="line"><span class="comment"># &gt;  '2018-02-21' '2018-02-23']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt; array(['2018-02-01', '2018-02-02', '2018-02-03', '2018-02-04',</span></span><br><span class="line"><span class="comment"># &gt;        '2018-02-05', '2018-02-06', '2018-02-07', '2018-02-08',</span></span><br><span class="line"><span class="comment"># &gt;        '2018-02-09', '2018-02-10', '2018-02-11', '2018-02-12',</span></span><br><span class="line"><span class="comment"># &gt;        '2018-02-13', '2018-02-14', '2018-02-15', '2018-02-16',</span></span><br><span class="line"><span class="comment"># &gt;        '2018-02-17', '2018-02-18', '2018-02-19', '2018-02-20',</span></span><br><span class="line"><span class="comment"># &gt;        '2018-02-21', '2018-02-22', '2018-02-23'], dtype='datetime64[D]')</span></span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line"><span class="comment">### 70. 如何从给定的一维数组创建步长？</span></span><br><span class="line">**难度等级：**L4</span><br><span class="line"></span><br><span class="line">**问题：**从给定的一维数组arr中，利用步进生成一个二维矩阵，窗口长度为<span class="number">4</span>，步距为<span class="number">2</span>，类似于 ``[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]..]``</span><br><span class="line"></span><br><span class="line">**给定：**</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">arr = np.arange(<span class="number">15</span>) </span><br><span class="line">arr</span><br><span class="line"><span class="comment"># &gt; array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14])</span></span><br></pre></td></tr></table></figure>
<p><strong>期望的输出：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; [[ 0  1  2  3]</span></span><br><span class="line"><span class="comment"># &gt;  [ 2  3  4  5]</span></span><br><span class="line"><span class="comment"># &gt;  [ 4  5  6  7]</span></span><br><span class="line"><span class="comment"># &gt;  [ 6  7  8  9]</span></span><br><span class="line"><span class="comment"># &gt;  [ 8  9 10 11]</span></span><br><span class="line"><span class="comment"># &gt;  [10 11 12 13]]</span></span><br></pre></td></tr></table></figure>
<p><strong>答案：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_strides</span><span class="params">(a, stride_len=<span class="number">5</span>, window_len=<span class="number">5</span>)</span>:</span></span><br><span class="line">    n_strides = ((a.size-window_len)//stride_len) + <span class="number">1</span></span><br><span class="line">    <span class="comment"># return np.array([a[s:(s+window_len)] for s in np.arange(0, a.size, stride_len)[:n_strides]])</span></span><br><span class="line">    <span class="keyword">return</span> np.array([a[s:(s+window_len)] <span class="keyword">for</span> s <span class="keyword">in</span> np.arange(<span class="number">0</span>, n_strides*stride_len, stride_len)])</span><br><span class="line"></span><br><span class="line">print(gen_strides(np.arange(<span class="number">15</span>), stride_len=<span class="number">2</span>, window_len=<span class="number">4</span>))</span><br><span class="line"><span class="comment"># &gt; [[ 0  1  2  3]</span></span><br><span class="line"><span class="comment"># &gt;  [ 2  3  4  5]</span></span><br><span class="line"><span class="comment"># &gt;  [ 4  5  6  7]</span></span><br><span class="line"><span class="comment"># &gt;  [ 6  7  8  9]</span></span><br><span class="line"><span class="comment"># &gt;  [ 8  9 10 11]</span></span><br><span class="line"><span class="comment"># &gt;  [10 11 12 13]]</span></span><br></pre></td></tr></table></figure>
<h3><span id="wen-zhang-chu-chu">文章出处</span><a href="#wen-zhang-chu-chu" class="header-anchor">#</a></h3><p>原作者为 machinelearningplus.com，翻译至：<br><a href="https://www.machinelearningplus.com/python/101-numpy-exercises-python/" target="_blank" rel="noopener">https://www.machinelearningplus.com/python/101-numpy-exercises-python/</a></p>

      
    </div>

    

    
    
    

    <div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/2019/03/30/numpy-data-analysis/">Numpy | 数据分析练习</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 Jhai.Dai 的个人博客">Jhai.Dai</a></p>
  <p><span>发布时间:</span>2019年03月30日 - 21:03</p>
  <p><span>最后更新:</span>2019年03月31日 - 14:03</p>
      
    </div>

    

    
      
    
    
      <div>
        <div id="reward-container">
  <div></div>
  <button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">

    
      
      
        
      
      <div style="display: inline-block">
        <img src="/images/wechatpay.png" alt="Jhai.Dai 微信支付">
        <p>微信支付</p>
      </div>
    

  </div>
</div>

      </div>
    

    

    <div>
      
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:20px;">-------------&nbsp;本文结束&nbsp;&nbsp;<i class="fa fa-paw"></i>&nbsp;&nbsp;感谢阅读&nbsp;-------------</div>
    
</div>
      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Numpy/" rel="tag"><i class="fa fa-tag"></i> Numpy</a>
          
            <a href="/tags/Pandas/" rel="tag"><i class="fa fa-tag"></i> Pandas</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/30/python-numpy/" rel="next" title="Numpy | 基本用法">
                <i class="fa fa-chevron-left"></i> Numpy | 基本用法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </div></article>


  </div>


          </div>
          

  
    <div class="comments" id="gitalk-container">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Jhai.Dai">
            
              <p class="site-author-name" itemprop="name">Jhai.Dai</p>
              <div class="site-description motion-element" itemprop="description">山不在高有仙则灵,水不在深有龙则灵</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/jasonhavend" title="GitHub &rarr; https://github.com/jasonhavend" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:jhai.dear@gmail.com" title="E-Mail &rarr; mailto:jhai.dear@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://weibo.com/5338420153/info" title="Weibo &rarr; https://weibo.com/5338420153/info" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jhai.Dai</span>

  

  
</div>


  <!--<div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>-->



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.0.1</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


















  
  









  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/three/three.min.js"></script>

  
  <script src="/lib/three/canvas_lines.min.js"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  
    

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">



<script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>

<script>
  var gitalk = new Gitalk({
    clientID: 'd32891a11324daaeff78',
    clientSecret: 'fb8a3576fc7b481720daa50e7b6f2cb54696d1ee',
    repo: 'deardjh.github.io',
    owner: 'deardjh',
    admin: ['deardjh'],
    id: md5(location.pathname),
    
      language: window.navigator.language || window.navigator.userLanguage,
    
    distractionFreeMode: 'true'
  });
  gitalk.render('gitalk-container');
</script>

  


  




  

  

  
  

  
  

  


  
<script>
if ($('body').find('div.pdf').length) {
  $.ajax({
    type: 'GET',
    url: '//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js',
    dataType: 'script',
    cache: true,
    success: function() {
      $('body').find('div.pdf').each(function(i, o) {
        PDFObject.embed($(o).attr('target'), $(o), {
          pdfOpenParams: {
            navpanes: 0,
            toolbar: 0,
            statusbar: 0,
            pagemode: 'thumbs',
            view: 'FitH'
          },
          PDFJS_URL: '/lib/pdf/web/viewer.html',
          height: $(o).attr('height') || '888px'
        });
      });
    },
  });
}
</script>


  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
